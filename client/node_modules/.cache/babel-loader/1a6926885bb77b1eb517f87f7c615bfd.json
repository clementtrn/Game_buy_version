{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hugod\\\\decitude\\\\client\\\\src\\\\routes\\\\AdminInterface.js\",\n    _s = $RefreshSig$();\n\nimport \"../styles/AdminInterface.css\";\nimport \"../styles/App.css\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PlayAPI from \"../API/PlayAPI\";\nimport { useHistory } from 'react-router-dom';\nimport { TextField, Button, Divider, Typography } from \"@material-ui/core\";\nimport cookie from 'react-cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminInterface = () => {\n  _s();\n\n  const history = useHistory();\n  const user = cookie.load(\"user\");\n  console.log(user);\n\n  const handleDisconnect = () => {\n    cookie.save('user', \"disconnected\", {\n      path: '/',\n      maxAge: 60 * 60 * 1.5 //sec\n\n    });\n    history.push('/login');\n  };\n\n  if (user === null || user === undefined || user == \"disconnected\") history.push(\"/login\");\n  if (user !== null && user !== undefined && user.role !== undefined && !user.role.includes(\"ADMIN\")) handleDisconnect();\n  const [session, setSession] = useState(user !== null && user !== undefined ? user.session : null);\n  const [configuration, setConfiguration] = useState(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-buttons-container\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: () => history.push(\"/\"),\n      className: \"login-button retour\",\n      color: \"default\",\n      children: \"Retour\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\" // onClick={handleConnect}\n      ,\n      className: \"login-button connect\",\n      color: \"primary\",\n      children: \"Se connecter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminInterface, \"Tn1bXYv4Jm6OSLY3nOx4+rzqESs=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminInterface;\nexport default AdminInterface;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminInterface\");","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/routes/AdminInterface.js"],"names":["React","useState","useEffect","useRef","PlayAPI","useHistory","TextField","Button","Divider","Typography","cookie","AdminInterface","history","user","load","console","log","handleDisconnect","save","path","maxAge","push","undefined","role","includes","session","setSession","configuration","setConfiguration"],"mappings":";;;AAAA,OAAO,8BAAP;AACA,OAAO,mBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,UAArC,QAAuD,mBAAvD;AAEA,OAAOC,MAAP,MAAmB,eAAnB;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAE3B,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AAGA,QAAMQ,IAAI,GAAGH,MAAM,CAACI,IAAP,CAAY,MAAZ,CAAb;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,QAAMI,gBAAgB,GAAG,MAAM;AAC7BP,IAAAA,MAAM,CAACQ,IAAP,CAAY,MAAZ,EAAoB,cAApB,EAAoC;AAClCC,MAAAA,IAAI,EAAE,GAD4B;AAElCC,MAAAA,MAAM,EAAE,KAAK,EAAL,GAAU,GAFgB,CAEX;;AAFW,KAApC;AAIAR,IAAAA,OAAO,CAACS,IAAR,CAAa,QAAb;AACD,GAND;;AAQA,MAAIR,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKS,SAA1B,IAAuCT,IAAI,IAAE,cAAjD,EAAiED,OAAO,CAACS,IAAR,CAAa,QAAb;AACjE,MAAGR,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKS,SAA1B,IAAuCT,IAAI,CAACU,IAAL,KAAYD,SAAnD,IAAgE,CAACT,IAAI,CAACU,IAAL,CAAUC,QAAV,CAAmB,OAAnB,CAApE,EAAiGP,gBAAgB;AAEjH,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAACY,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKS,SAA1B,GAAsCT,IAAI,CAACY,OAA3C,GAAqD,IAAtD,CAAtC;AAEA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoC3B,QAAQ,CAAC,IAAD,CAAlD;AAKA,sBAEE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA,4BACI,QAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV;AAEE,MAAA,OAAO,EAAE,MAAMW,OAAO,CAACS,IAAR,CAAa,GAAb,CAFjB;AAGE,MAAA,SAAS,EAAC,qBAHZ;AAIE,MAAA,KAAK,EAAC,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAUI,QAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV,CAEE;AAFF;AAGE,MAAA,SAAS,EAAC,sBAHZ;AAIE,MAAA,KAAK,EAAC,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAwBD,CAjDD;;GAAMV,c;UAEYN,U;;;KAFZM,c;AAmDN,eAAeA,cAAf","sourcesContent":["import \"../styles/AdminInterface.css\"\r\nimport \"../styles/App.css\"\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport PlayAPI from \"../API/PlayAPI\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TextField, Button, Divider, Typography } from \"@material-ui/core\"\r\n\r\nimport cookie from 'react-cookies'\r\n\r\nconst AdminInterface = () => {\r\n\r\n  const history = useHistory()\r\n  \r\n\r\n  const user = cookie.load(\"user\")\r\n  console.log(user)\r\n  const handleDisconnect = () => {\r\n    cookie.save('user', \"disconnected\", {\r\n      path: '/',\r\n      maxAge: 60 * 60 * 1.5, //sec\r\n    })\r\n    history.push('/login');\r\n  }\r\n\r\n  if (user === null || user === undefined || user==\"disconnected\") history.push(\"/login\");\r\n  if(user !== null && user !== undefined && user.role!==undefined && !user.role.includes(\"ADMIN\")) handleDisconnect()\r\n\r\n  const [session, setSession] = useState(user !== null && user !== undefined ? user.session : null)\r\n \r\n  const [configuration, setConfiguration] = useState(null)\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"admin-buttons-container\">\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => history.push(\"/\")}\r\n          className=\"login-button retour\"\r\n          color=\"default\"\r\n          \r\n        >\r\n          Retour\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          // onClick={handleConnect}\r\n          className=\"login-button connect\"\r\n          color=\"primary\"\r\n\r\n        >\r\n          Se connecter\r\n        </Button>\r\n      </div>\r\n  );\r\n\r\n}\r\n\r\nexport default AdminInterface;\r\n\r\n"]},"metadata":{},"sourceType":"module"}