{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hugod\\\\decitude\\\\client\\\\src\\\\components\\\\pieces\\\\MurPiece.js\",\n    _s = $RefreshSig$();\n\nimport { withWidth } from '@material-ui/core';\nimport zIndex from '@material-ui/core/styles/zIndex';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MurPiece = ({\n  num,\n  height,\n  width,\n  type,\n  coordX,\n  coordY,\n  nbColonnesPiece,\n  nbLignesPiece,\n  nbColonnesGrille,\n  nbLignesGrille,\n  anchor\n}) => {\n  _s();\n\n  // console.log(nbColonnesGrille,nbLignesGrille)\n  const epaisseurInit = 1;\n  const epaisseur = type > 0 ? type > 2 ? epaisseurInit * 8 : epaisseurInit * 4 : 1;\n  const [mounted, setMounted] = useState(false);\n  const [transform, setTranform] = useState([0, 0]); // console.log(anchor)\n\n  const colors = [\"\", // 0 simple\n  \"black\", // 1 large\n  \"green\", // 2 marqueur dégat\n  \"#490000\", //3 porte closed\n  \"#490000\" //4 porte open\n  ];\n\n  const getTransform = () => {\n    if (num == 0 || num == 2) {\n      // horizontal\n      var facteurX = 1; // droite par défaut\n\n      var facteurY = -1;\n\n      if (coordX < nbColonnesGrille / 2 - 1 && coordY < nbLignesGrille - 1 || coordY < 2) {\n        facteurX = -1;\n      }\n\n      if ((coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2 || coordY - anchor[0] < 2 && coordY - anchor[0] < nbLignesPiece + 1) && coordY - anchor[0] < nbLignesPiece - 1) {\n        facteurY = 1;\n      }\n\n      const translateX = facteurX * width * 0.9;\n      const translateY = facteurY * epaisseur / 1.5;\n      return [translateX, translateY]; // return 'translate(' + translateX + \"px,\" + translateY + \"px)\"\n    }\n\n    if (num == 1 || num == 3) {\n      // vertical\n      var facteurX = 1;\n      var facteurY = 1;\n\n      if ((coordX > nbColonnesGrille / 2 || coordY > nbLignesGrille / 2 || coordX + anchor[1] > nbColonnesPiece - 2) && (coordX - anchor[1] > 0 || coordX == 6 || coordX == 5)) {\n        facteurX = -1;\n      }\n\n      if (coordY < 6 || coordX > nbColonnesGrille - 2 || coordX < nbColonnesGrille / 2) {\n        facteurY = -1;\n      }\n\n      const translateX = facteurX * epaisseur / 1.5;\n      const translateY = facteurY * height * 0.9;\n      return [translateX, translateY]; // return 'translate(' + translateX + \"px,\" + translateY + \"px)\"\n    }\n  };\n\n  const getOpacity = () => {\n    if (num == 0 && !((coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2 || coordY - anchor[0] < 2 && coordY - anchor[0] < nbLignesPiece + 1) && coordY - anchor[0] < nbLignesPiece - 1)) return 0;\n    if (num == 2 && (coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2 || coordY - anchor[0] < 2 && coordY - anchor[0] < nbLignesPiece + 1) && coordY - anchor[0] < nbLignesPiece - 1) return 0;\n    if (num == 1 && !((coordX > nbColonnesGrille / 2 || coordY > nbLignesGrille / 2 || coordX + anchor[1] > nbColonnesPiece - 2) && (coordX - anchor[1] > 0 || coordX == 6 || coordX == 5))) return 0;\n    if (num == 3 && (coordX > nbColonnesGrille / 2 || coordY > nbLignesGrille / 2 || coordX + anchor[1] > nbColonnesPiece - 2) && (coordX - anchor[1] > 0 || coordX == 6 || coordX == 5)) return 0;\n    return 1;\n  };\n\n  useEffect(() => {\n    setMounted(true);\n    const transformNew = getTransform();\n\n    if (transform[0] !== transformNew[0] || transform[1] !== transformNew[1]) {\n      setTranform(getTransform());\n    }\n  }); // useEffect(()=>{\n  //     console.log(transform)\n  // },[transform])\n\n  const test = () => {\n    console.log(\"coords X \", coordX, nbColonnesPiece, nbColonnesGrille);\n    console.log(\"coords Y \", coordY, nbLignesPiece, nbLignesGrille);\n  };\n\n  const renderPoignee = () => {\n    let component = [];\n\n    switch (num) {\n      case 0:\n        // horizontal haut\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: epaisseur,\n            height: epaisseur / 3,\n            backgroundColor: \"#9F9F9F\",\n            width: epaisseur / 2,\n            left: transform[0] > 0 ? width * 0.2 : null,\n            right: transform[0] < 0 ? width * 0.2 : null,\n            border: \"1px solid black\"\n          }\n        }, 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this));\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: epaisseur * 1.3,\n            height: epaisseur,\n            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\n            width: epaisseur,\n            left: transform[0] > 0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\n            right: transform[0] < 0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\n            borderRadius: \"100%\",\n            border: \"1px solid black\",\n            boxShadow: \"-1px 1px 1px 1px #9F9F9F\"\n          }\n        }, 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this));\n        break;\n\n      case 2:\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: -epaisseur * 0.3 - 2,\n            height: epaisseur / 3,\n            backgroundColor: \"#9F9F9F\",\n            width: epaisseur / 2,\n            left: transform[0] > 0 ? width * 0.2 : null,\n            right: transform[0] < 0 ? width * 0.2 : null,\n            border: \"1px solid black\"\n          }\n        }, 2, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this));\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: -epaisseur * 1.3 - 2,\n            height: epaisseur,\n            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\n            width: epaisseur,\n            left: transform[0] > 0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\n            right: transform[0] < 0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\n            borderRadius: \"100%\",\n            border: \"1px solid black\",\n            boxShadow: \"-1px 1px 1px 1px #9F9F9F\"\n          }\n        }, 3, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this));\n        break;\n\n      case 1:\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: transform[1] > 0 ? height * 0.2 : null,\n            bottom: transform[1] < 0 ? height * 0.2 : null,\n            height: epaisseur / 3,\n            backgroundColor: \"#9F9F9F\",\n            width: epaisseur / 3,\n            right: epaisseur,\n            border: \"1px solid black\"\n          }\n        }, 4, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this));\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: transform[1] > 0 ? height * 0.2 - epaisseur / 6 - 1 : null,\n            bottom: transform[1] < 0 ? height * 0.2 - epaisseur / 6 - 1 : null,\n            // bottom: height * 0.2 - epaisseur / 6 - 1,\n            height: epaisseur,\n            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\n            width: epaisseur,\n            right: epaisseur * 1.3,\n            borderRadius: \"100%\",\n            border: \"1px solid black\",\n            boxShadow: \"-1px 1px 1px 1px #9F9F9F\"\n          }\n        }, 5, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this));\n        break;\n\n      case 3:\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: transform[1] > 0 ? height * 0.2 : null,\n            bottom: transform[1] < 0 ? height * 0.2 : null,\n            height: epaisseur / 3,\n            backgroundColor: \"#9F9F9F\",\n            width: epaisseur / 3,\n            left: epaisseur,\n            border: \"1px solid black\"\n          }\n        }, 6, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this));\n        component.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: transform[1] > 0 ? height * 0.2 - epaisseur / 6 - 1 : null,\n            bottom: transform[1] < 0 ? height * 0.2 - epaisseur / 6 - 1 : null,\n            height: epaisseur,\n            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\n            width: epaisseur,\n            left: epaisseur * 1.3,\n            borderRadius: \"100%\",\n            border: \"1px solid black\",\n            boxShadow: \"-1px 1px 1px 1px #9F9F9F\"\n          }\n        }, 7, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this));\n        break;\n    }\n\n    return component;\n  };\n\n  const renderTriangle = (top, bottom, left, rotate, marginLeft, marginTop, color) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"triangle\",\n      style: {\n        borderTop: top + \"px solid transparent\",\n        borderBottom: bottom + \"px solid transparent\",\n        borderLeft: left + \"px solid \" + color,\n        top: num == 0 ? marginTop : null,\n        bottom: num == 2 ? marginTop : null,\n        left: num == 0 ? marginLeft : null,\n        right: num == 2 ? marginLeft : null,\n        transform: \"rotate(\" + (rotate + num * 90) + \"deg)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }, this);\n  };\n\n  const renderMarqueurDegat = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: 0,\n          backgroundColor: 'black',\n          width: epaisseur,\n          height: epaisseur\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0,\n          backgroundColor: 'black',\n          width: epaisseur,\n          height: epaisseur\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this), renderTriangle(2, 4, 5, // top , bottom , left\n      0, // rotate\n      epaisseur, -epaisseur / 2, // margin left, margin top\n      \"green\" // color\n      ), renderTriangle(1, 1, 2, // top , bottom , left\n      60, // rotate\n      epaisseur * 2, epaisseur * 0.6, // margin left, margin top\n      \"red\" // color\n      ), renderTriangle(2, 2, 3, // top , bottom , left\n      30, // rotate\n      epaisseur * 1.2, epaisseur * 0.1, // margin left, margin top\n      \"purple\" // color\n      ), renderTriangle(2, 1, 1, // top , bottom , left\n      50, // rotate\n      epaisseur + 2, -4, // margin left, margin top\n      \"yellow\" // color\n      ), renderTriangle(2, 1, 2, // top , bottom , left\n      70, // rotate\n      epaisseur + 2, -2, // margin left, margin top\n      \"brown\" // color\n      ), renderTriangle(0, 3, 2, // top , bottom , left\n      0, // rotate\n      epaisseur, -epaisseur + 1, // margin left, margin top\n      \"red\" // color\n      ), renderTriangle(1, 1, 2, // top , bottom , left\n      0, // rotate\n      epaisseur + 6, 1, // margin left, margin top\n      \"black\" // color\n      ), renderTriangle(1, 1, 2, // top , bottom , left\n      40, // rotate\n      epaisseur + 3, 1, // margin left, margin top\n      \"green\" // color\n      ), renderTriangle(1, 1, 2, // top , bottom , left\n      -50, // rotate\n      epaisseur + 4, -3, // margin left, margin top\n      \"black\" // color\n      )]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => test(),\n    style: {\n      position: \"absolute\",\n      width: num % 2 == 0 ? width + 2 : epaisseur,\n      height: num % 2 == 1 ? height + 1 : epaisseur,\n      right: num == 1 ? -1 : null,\n      left: num % 2 == 0 || num == 3 ? -1 : null,\n      top: num == 0 || num % 2 == 1 ? -1 : null,\n      bottom: num == 2 ? 0 : null,\n      backgroundColor: type > 0 && type != 2 ? colors[type] : 'transparent',\n      zIndex: type == 3 || type == 4 ? 1 : 2,\n      transform: type == 4 ? 'translate(' + transform[0] + \"px,\" + transform[1] + \"px)\" : type == 3 ? num % 2 == 0 ? 'translate(0px,' + transform[1] + \"px)\" : 'translate(' + transform[0] + \"px,0px)\" : \"\",\n      opacity: type == 3 || type == 4 ? getOpacity() : 1,\n      transition: type > 2 && mounted ? \"1s\" : \"\",\n      borderRadius: type > 2 ? 3 : 0,\n      border: type > 2 ? \"1px solid black\" : \"\",\n      boxShadow: type > 2 ? \"-1px 1px 1px 1px #9F9F9F\" : \"\"\n    },\n    children: [type == 3 || type == 4 ? renderPoignee() : null, type == 2 ? renderMarqueurDegat() : null]\n  }, 8, true, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MurPiece, \"gnREBmZxjXsf9HcN/q+wcIeaZtU=\");\n\n_c = MurPiece;\nexport default MurPiece;\n\nvar _c;\n\n$RefreshReg$(_c, \"MurPiece\");","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/components/pieces/MurPiece.js"],"names":["withWidth","zIndex","React","useState","useEffect","MurPiece","num","height","width","type","coordX","coordY","nbColonnesPiece","nbLignesPiece","nbColonnesGrille","nbLignesGrille","anchor","epaisseurInit","epaisseur","mounted","setMounted","transform","setTranform","colors","getTransform","facteurX","facteurY","translateX","translateY","getOpacity","transformNew","test","console","log","renderPoignee","component","push","position","top","backgroundColor","left","right","border","background","borderRadius","boxShadow","bottom","renderTriangle","rotate","marginLeft","marginTop","color","borderTop","borderBottom","borderLeft","renderMarqueurDegat","opacity","transition"],"mappings":"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","sourcesContent":["import { withWidth } from '@material-ui/core';\r\nimport zIndex from '@material-ui/core/styles/zIndex';\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nconst MurPiece = ({\r\n    num,\r\n    height,\r\n    width,\r\n    type,\r\n    coordX,\r\n    coordY,\r\n    nbColonnesPiece,\r\n    nbLignesPiece,\r\n    nbColonnesGrille,\r\n    nbLignesGrille,\r\n    anchor\r\n}) => {\r\n    // console.log(nbColonnesGrille,nbLignesGrille)\r\n    const epaisseurInit = 1\r\n    const epaisseur = type > 0 ? type > 2 ? epaisseurInit * 8 : epaisseurInit * 4 : 1\r\n    const [mounted,setMounted]=useState(false)\r\n    const [transform,setTranform]=useState([0,0])\r\n    // console.log(anchor)\r\n\r\n    const colors = [\r\n        \"\", // 0 simple\r\n        \"black\", // 1 large\r\n        \"green\", // 2 marqueur dégat\r\n        \"#490000\",//3 porte closed\r\n        \"#490000\",//4 porte open\r\n    ]\r\n\r\n    const getTransform = () => {\r\n\r\n\r\n        if (num == 0 || num == 2) { // horizontal\r\n            var facteurX = 1 // droite par défaut\r\n            var facteurY = -1\r\n            if ( (coordX < nbColonnesGrille / 2 -1 && coordY<nbLignesGrille-1) || coordY<2) {\r\n                facteurX = -1\r\n            }\r\n            if (((coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2  ) || coordY-anchor[0]<2 && coordY-anchor[0]<nbLignesPiece+1 ) && coordY-anchor[0]<nbLignesPiece-1)  {\r\n                facteurY = 1\r\n            }\r\n            \r\n            const translateX = facteurX * width * 0.9\r\n            const translateY = facteurY * epaisseur / 1.5\r\n            return [translateX,translateY]\r\n            // return 'translate(' + translateX + \"px,\" + translateY + \"px)\"\r\n        }\r\n\r\n\r\n\r\n        if (num == 1 || num == 3) { // vertical\r\n            var facteurX = 1\r\n            var facteurY = 1\r\n            \r\n            if ((coordX > nbColonnesGrille / 2 || coordY>nbLignesGrille/2 || coordX+anchor[1]>nbColonnesPiece-2 ) && (coordX-anchor[1]>0 ||  coordX==6 ||coordX==5)) {\r\n                facteurX = -1\r\n            }\r\n            if( coordY<6 || coordX>nbColonnesGrille-2 || coordX<nbColonnesGrille/2){\r\n                facteurY=-1\r\n            }\r\n            \r\n            const translateX = facteurX * epaisseur / 1.5\r\n            const translateY = facteurY * height * 0.9\r\n            return [translateX,translateY]\r\n\r\n            // return 'translate(' + translateX + \"px,\" + translateY + \"px)\"\r\n        }\r\n    }\r\n\r\n    const getOpacity = () => {\r\n            \r\n        if (num==0 && !(((coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2  ) || coordY-anchor[0]<2 && coordY-anchor[0]<nbLignesPiece+1 ) && coordY-anchor[0]<nbLignesPiece-1)) return 0\r\n\r\n        if(num==2 && (((coordY <= nbLignesGrille / 2 && coordX <= nbColonnesGrille / 2  ) || coordY-anchor[0]<2 && coordY-anchor[0]<nbLignesPiece+1 ) && coordY-anchor[0]<nbLignesPiece-1 )) return 0\r\n            \r\n        if(num==1 && !((coordX > nbColonnesGrille / 2 || coordY>nbLignesGrille/2 || coordX+anchor[1]>nbColonnesPiece-2 ) && (coordX-anchor[1]>0 ||  coordX==6 ||coordX==5))) return 0\r\n        \r\n        if(num==3 && ((coordX > nbColonnesGrille / 2 || coordY>nbLignesGrille/2 || coordX+anchor[1]>nbColonnesPiece-2 ) && (coordX-anchor[1]>0 ||  coordX==6 ||coordX==5))) return 0\r\n\r\n        return 1\r\n    }\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        setMounted(true)\r\n        const transformNew = getTransform()\r\n        if(transform[0] !==transformNew[0] || transform[1]!==transformNew[1]){\r\n            setTranform(getTransform())\r\n        }\r\n        \r\n    })\r\n\r\n\r\n    // useEffect(()=>{\r\n    //     console.log(transform)\r\n    // },[transform])\r\n   \r\n\r\n\r\n    const test = () => {\r\n        console.log(\"coords X \",coordX,nbColonnesPiece,nbColonnesGrille )\r\n        console.log(\"coords Y \" , coordY,nbLignesPiece,nbLignesGrille)\r\n    }\r\n\r\n    const renderPoignee = () => {\r\n        let component = []\r\n\r\n        switch (num) {\r\n            case 0: // horizontal haut\r\n                component.push(\r\n                    <div // trait\r\n                        key={0}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: epaisseur,\r\n                            height: epaisseur / 3,\r\n                            backgroundColor: \"#9F9F9F\",\r\n                            width: epaisseur / 2,\r\n                            left : transform[0]>0 ? width * 0.2 : null,\r\n                            right:  transform[0]<0 ? width * 0.2 : null,\r\n                            border: \"1px solid black\",\r\n                            \r\n\r\n                        }} />\r\n                )\r\n                component.push(\r\n                    <div // rond\r\n                        key={1}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: epaisseur * 1.3,\r\n                            height: epaisseur,\r\n                            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\r\n                            width: epaisseur,\r\n                            left : transform[0]>0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\r\n                            right:  transform[0]<0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4: null,\r\n                            borderRadius: \"100%\",\r\n                            border: \"1px solid black\",\r\n                            boxShadow:\"-1px 1px 1px 1px #9F9F9F\"\r\n                        }} />\r\n                )\r\n                break;\r\n            case 2:\r\n                component.push(\r\n                    <div\r\n                        key={2}\r\n\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: -epaisseur * 0.3 - 2,\r\n                            height: epaisseur / 3,\r\n                            backgroundColor: \"#9F9F9F\",\r\n                            width: epaisseur / 2,\r\n                            left : transform[0]>0 ? width * 0.2 : null,\r\n                            right:  transform[0]<0 ? width * 0.2 : null,\r\n                            border: \"1px solid black\"\r\n                        }} />\r\n                )\r\n                component.push(\r\n                    <div\r\n                        key={3}\r\n\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top: -epaisseur * 1.3 - 2,\r\n                            height: epaisseur,\r\n                            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\r\n                            width: epaisseur,\r\n                            left : transform[0]>0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4 : null,\r\n                            right:  transform[0]<0 ? width * 0.2 - epaisseur / 2 + epaisseur / 4: null,\r\n                            borderRadius: \"100%\",\r\n                            border: \"1px solid black\",\r\n                            boxShadow:\"-1px 1px 1px 1px #9F9F9F\"\r\n\r\n                        }} />\r\n                )\r\n                break;\r\n            case 1:\r\n                component.push(\r\n                    <div\r\n                        key={4}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top : transform[1]>0 ? height * 0.2 : null,\r\n                            bottom:  transform[1]<0 ? height * 0.2 : null,\r\n                            height: epaisseur / 3,\r\n                            backgroundColor: \"#9F9F9F\",\r\n                            width: epaisseur / 3,\r\n                            right: epaisseur,\r\n                            border: \"1px solid black\"\r\n                        }} />\r\n                )\r\n                component.push(\r\n                    <div\r\n                        key={5}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top : transform[1]>0 ? height * 0.2 - epaisseur / 6 - 1: null,\r\n                            bottom:  transform[1]<0 ? height * 0.2 - epaisseur / 6 - 1: null,\r\n                            // bottom: height * 0.2 - epaisseur / 6 - 1,\r\n                            height: epaisseur,\r\n                            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\r\n                            width: epaisseur,\r\n                            right: epaisseur * 1.3,\r\n                            borderRadius: \"100%\",\r\n                            border: \"1px solid black\",\r\n                            boxShadow:\"-1px 1px 1px 1px #9F9F9F\"\r\n\r\n                        }} />\r\n\r\n                )\r\n                break;\r\n            case 3:\r\n                component.push(\r\n                    <div\r\n                        key={6}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top : transform[1]>0 ? height * 0.2 : null,\r\n                            bottom:  transform[1]<0 ? height * 0.2 : null,\r\n                            height: epaisseur / 3,\r\n                            backgroundColor: \"#9F9F9F\",\r\n                            width: epaisseur / 3,\r\n                            left: epaisseur,\r\n                            border: \"1px solid black\"\r\n                        }} />\r\n                )\r\n                component.push(\r\n                    <div\r\n                        key={7}\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            top : transform[1]>0 ? height * 0.2 - epaisseur / 6 - 1: null,\r\n                            bottom:  transform[1]<0 ? height * 0.2 - epaisseur / 6 - 1: null,\r\n                            height: epaisseur,\r\n                            background: \"linear-gradient(20deg, rgba(100,100,100,1) 0%, rgba(194,194,194,1) 68%, rgba(236,236,236,1) 100%)\",\r\n                            width: epaisseur,\r\n                            left: epaisseur * 1.3,\r\n                            borderRadius: \"100%\",\r\n                            border: \"1px solid black\",\r\n                            boxShadow:\"-1px 1px 1px 1px #9F9F9F\"\r\n\r\n                        }} />\r\n                )\r\n                break;\r\n        }\r\n\r\n\r\n        return (component)\r\n    }\r\n    \r\n    const renderTriangle=(top,bottom,left,rotate,marginLeft,marginTop,color)=>{\r\n        return (\r\n            <div \r\n            className='triangle'\r\n            style={{\r\n                borderTop: top+\"px solid transparent\",\r\n                borderBottom: bottom+\"px solid transparent\",\r\n                borderLeft: left+\"px solid \"+color,\r\n                top:num==0 ? marginTop: null,\r\n                bottom:num==2 ? marginTop : null,\r\n                left:num==0 ? marginLeft: null,\r\n                right:num==2 ? marginLeft : null,\r\n                transform:\"rotate(\"+(rotate+num*90)+\"deg)\"\r\n            }}\r\n         ></div>\r\n        )\r\n    }\r\n    \r\n\r\n    const renderMarqueurDegat=()=>{\r\n        return(\r\n            <>\r\n                {/* COTES */}\r\n                <div style={{\r\n                    position:'absolute',\r\n                    left:0,\r\n                    backgroundColor:'black',\r\n                    width:epaisseur,\r\n                    height:epaisseur\r\n                \r\n                }}></div> \r\n                <div style={{\r\n                    position:'absolute',\r\n                    right:0,\r\n                    backgroundColor:'black',\r\n                    width:epaisseur,\r\n                    height:epaisseur\r\n                \r\n                }}></div>\r\n                {\r\n                    renderTriangle(\r\n                        2,4,5,// top , bottom , left\r\n                        0,// rotate\r\n                        epaisseur,-epaisseur/2,// margin left, margin top\r\n                        \"green\"// color\r\n                    ) \r\n                }\r\n                {\r\n                    renderTriangle(\r\n                        1,1,2,// top , bottom , left\r\n                        60, // rotate\r\n                        epaisseur*2,epaisseur*0.6, // margin left, margin top\r\n                        \"red\" // color\r\n                    ) \r\n                }\r\n                {\r\n                    renderTriangle(\r\n                        2,2,3,// top , bottom , left\r\n                        30,// rotate\r\n                        epaisseur*1.2,epaisseur*0.1,// margin left, margin top\r\n                        \"purple\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    2,1,1,// top , bottom , left\r\n                    50,// rotate\r\n                    epaisseur+2,-4,// margin left, margin top\r\n                    \"yellow\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    2,1,2,// top , bottom , left\r\n                    70,// rotate\r\n                    epaisseur+2,-2,// margin left, margin top\r\n                    \"brown\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    0,3,2,// top , bottom , left\r\n                    0,// rotate\r\n                    epaisseur,-epaisseur+1,// margin left, margin top\r\n                    \"red\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    1,1,2,// top , bottom , left\r\n                    0,// rotate\r\n                    epaisseur+6,1,// margin left, margin top\r\n                    \"black\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    1,1,2,// top , bottom , left\r\n                    40,// rotate\r\n                    epaisseur+3,1,// margin left, margin top\r\n                    \"green\"// color\r\n                    )\r\n                }\r\n                {\r\n                renderTriangle(\r\n                    1,1,2,// top , bottom , left\r\n                    -50,// rotate\r\n                    epaisseur+4,-3,// margin left, margin top\r\n                    \"black\"// color\r\n                    )\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div\r\n            key={8}\r\n            onClick={() => test()}\r\n            style={{\r\n                position: \"absolute\",\r\n                width: num % 2 == 0 ? width + 2 : epaisseur,\r\n                height: num % 2 == 1 ? height + 1 : epaisseur,\r\n                right: num == 1 ? -1 : null,\r\n                left: num % 2 == 0 || num == 3 ? -1 : null,\r\n                top: num == 0 || num % 2 == 1 ? -1 : null,\r\n                bottom: num == 2 ? 0 : null,\r\n                backgroundColor: (type > 0 && type!=2) ? colors[type] : 'transparent',\r\n                zIndex: type == 3 || type == 4 ? 1 : 2,\r\n                transform: type == 4 ? 'translate(' + transform[0] + \"px,\" + transform[1]  + \"px)\" : (type==3 ?  (num%2==0 ? 'translate(0px,' + transform[1]  + \"px)\" : 'translate('+transform[0]  + \"px,0px)\") : \"\"),\r\n                opacity: type == 3 || type == 4 ? getOpacity() : 1,\r\n                transition: type > 2 && mounted ? \"1s\" : \"\",\r\n                borderRadius: type > 2 ? 3 : 0,\r\n                border: type > 2 ? \"1px solid black\" : \"\",\r\n                boxShadow: type > 2 ?  \"-1px 1px 1px 1px #9F9F9F\" :\"\"\r\n            }}\r\n        >\r\n            {\r\n                type == 3 || type == 4 ?\r\n                    renderPoignee()\r\n                    :\r\n                    null\r\n            }\r\n            {\r\n                type==2 ?\r\n                    renderMarqueurDegat()\r\n                    :\r\n                    null\r\n            }\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default MurPiece;"]},"metadata":{},"sourceType":"module"}