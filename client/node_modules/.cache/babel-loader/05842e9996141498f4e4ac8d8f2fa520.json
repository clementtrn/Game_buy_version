{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hugo Dufr\\xEAne\\\\decitude\\\\client\\\\src\\\\routes\\\\InterInterface.js\",\n    _s = $RefreshSig$();\n\nimport \"../styles/App.css\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PlayAPI from \"../API/PlayAPI\";\nimport InterBandeauTop from \"../components/interfaceJoueur/InterBandeauTop\";\nimport InterBandeauBottom from \"../components/interfaceJoueur/InterBandeauBottom\";\nimport Grille from \"../components/interfaceJoueur/Grille\";\nimport InterInterventions from \"../components/interfaceJoueur/InterInterventions\";\nimport { useHistory } from 'react-router-dom';\nimport cookie from 'react-cookies';\nimport InterEquipements from \"../components/interfaceJoueur/InterEquipements\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst InterInterface = () => {\n  _s();\n\n  console.log(\"interface inter\");\n  const history = useHistory();\n  const user = cookie.load(\"user\"); // console.log(user)\n  // if(user==null || user==undefined) history.push(\"/login\");\n\n  const [numPompier, setNumPompier] = useState(0); // const [currentTour, setCurrentTour] = useState(null)\n  // const [currentCycle, setCurrentCycle] = useState(null)\n\n  const [currentTour, setCurrentTour] = useState(1);\n  const [currentCycle, setCurrentCycle] = useState(1); // const [session,setSession]=useState(user.session)\n  // const [equipe,setEquipe]=useState(user.equipe)\n\n  const [session, setSession] = useState(1);\n  const [equipe, setEquipe] = useState(1);\n  const [chrono, setChrono] = useState(null);\n  useEffect(() => {\n    console.log(chrono);\n\n    if (currentTour == numPompier) {\n      if (chrono > 0) {\n        var chronoTimer = setInterval(() => {\n          setChrono(chrono => chrono - 1);\n        }, 1000);\n      }\n\n      return () => {\n        clearInterval(chronoTimer);\n      };\n    }\n  }, [chrono]); // const [configuration, setConfiguration] = useState(null)\n\n  const [configuration, setConfiguration] = useState({\n    chronoTour: {\n      valeur: 180\n    },\n    nbSequences: {\n      valeur: 4\n    },\n    nbCyclesParSequence: {\n      valeur: 2\n    },\n    nbPompEquipe: {\n      valeur: 6\n    }\n  });\n  useEffect(() => {\n    console.log(configuration);\n\n    if (configuration != null) {\n      setChrono(configuration.chronoTour.valeur);\n    }\n  }, [configuration]); // const [stocks, setStocks] = useState({\n  //   Interventions: 10,\n  //   Feu: 1,\n  //   FeuFum: 10,\n  //   Fum: 10,\n  //   Marqueur: 10,\n  // })\n\n  const [resultats, setResultats] = useState({\n    Decedes: 1,\n    Sauves: 2,\n    Marqueurs: 3\n  }); // const [interventions, setInterventions] = useState({\n  //   Deplacement: 0,\n  //   Feu: 0,\n  //   FeuFum: 0,\n  //   Fum: 0,\n  //   Marqueur: 0,\n  //   Porte: 0,\n  //   Habitant: 0\n  // })\n\n  const [budget, setBudget] = useState({\n    interventions: {\n      sequence: {\n        total: 500,\n        depense: 100\n      },\n      cycle: {\n        total: 100,\n        depense: 50\n      }\n    },\n    equipements: {\n      sequence: {\n        total: 300,\n        depense: 200\n      },\n      cycle: {\n        total: 200,\n        depense: 100\n      }\n    }\n  });\n  const [cycles, setCycles] = useState({\n    interventions: [{\n      numCycle: 1,\n      pomp1: 100,\n      pomp2: 100,\n      pomp3: 100,\n      pomp4: 100,\n      pomp5: 100,\n      pomp6: 100\n    }, {\n      numCycle: 3,\n      pomp1: 300,\n      pomp2: 300,\n      pomp3: 300,\n      pomp4: 300,\n      pomp5: 300,\n      pomp6: 300\n    }, {\n      numCycle: 2,\n      pomp1: 200,\n      pomp2: 200,\n      pomp3: 200,\n      pomp4: 200,\n      pomp5: 200,\n      pomp6: 200\n    }, {\n      numCycle: 4,\n      pomp1: 400,\n      pomp2: 400,\n      pomp3: 400,\n      pomp4: 400,\n      pomp5: 400,\n      pomp6: 400\n    }, {\n      numCycle: 5,\n      pomp1: 500,\n      pomp2: 500,\n      pomp3: 500,\n      pomp4: 500,\n      pomp5: 500,\n      pomp6: 500\n    }, {\n      numCycle: 6,\n      pomp1: 600,\n      pomp2: 600,\n      pomp3: 600,\n      pomp4: 600,\n      pomp5: 600,\n      pomp6: 600\n    }],\n    equipements: [{\n      numCycle: 1,\n      pomp1: 100,\n      pomp2: 200,\n      pomp3: 300,\n      pomp4: 400,\n      pomp5: 500,\n      pomp6: 600\n    }, {\n      numCycle: 3,\n      pomp1: 100,\n      pomp2: 100,\n      pomp3: 100,\n      pomp4: 100,\n      pomp5: 100,\n      pomp6: 100\n    }, {\n      numCycle: 2,\n      pomp1: 700,\n      pomp2: 800,\n      pomp3: 900,\n      pomp4: 1000,\n      pomp5: 1100,\n      pomp6: 1200\n    }, {\n      numCycle: 4,\n      pomp1: 100,\n      pomp2: 100,\n      pomp3: 100,\n      pomp4: 100,\n      pomp5: 100,\n      pomp6: 100\n    }, {\n      numCycle: 5,\n      pomp1: 100,\n      pomp2: 100,\n      pomp3: 100,\n      pomp4: 100,\n      pomp5: 100,\n      pomp6: 100\n    }, {\n      numCycle: 6,\n      pomp1: 100,\n      pomp2: 100,\n      pomp3: 100,\n      pomp4: 100,\n      pomp5: 100,\n      pomp6: 100\n    }]\n  });\n  const [budgetSim, setBudgetSim] = useState({\n    interventions: {},\n    equipements: {}\n  });\n  const [interventionsValidated, setInterventionsValidated] = useState(false);\n  const [equipementsValidated, setEquipementsValidated] = useState(false);\n  const isLoading = useRef(false); // INITIALISATION DE LA CARTE\n\n  const [carte, setCarte] = useState([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]); // const [carte, setCarte] = useState([])\n\n  const [nbLignesGrille, setNbLignesGrille] = useState(0);\n  const [nbColonnesGrille, setNbColonnesGrille] = useState(0);\n  const [position, setPosition] = useState(null);\n  const [mursH, setMursH] = useState([[1, 1, 1, 1, 1, 1, 2, 6, 1, 1, 1, 1, 2, 5, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 2, 6, 1, 6, 2, 1, 1, 1, 5, 2, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 6, 2, 1, 1, 1, 1, 1, 1, 1, 1]]);\n  const [mursV, setMursV] = useState([[1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], [2, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], [5, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 5, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 0, 0, 2], [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 5]]);\n\n  const getNombreMarqueurs = (mursH, mursV) => {\n    let nbMarqueurs = 0;\n    mursH.forEach(ligne => {\n      ligne.forEach(valeur => {\n        if (valeur == 3) nbMarqueurs = nbMarqueurs + 1;\n        if (valeur == 4) nbMarqueurs = nbMarqueurs + 2;\n      });\n    });\n    mursV.forEach(ligne => {\n      ligne.forEach(valeur => {\n        if (valeur == 3) nbMarqueurs = nbMarqueurs + 1;\n        if (valeur == 4) nbMarqueurs = nbMarqueurs + 2;\n      });\n    });\n    return nbMarqueurs;\n  }; // GET PLAY PARAMETERS \n  // const getPlayState=async(session,equipe)=>{\n  //   if(!isLoading.current){\n  //     isLoading.current=true\n  //     const currentPlayState = await PlayAPI.getPlayState(session,equipe)\n  //     if(Object.keys(currentPlayState).length>0 ){\n  //       // console.log(\"Get play state 2\")\n  //       console.log(parseInt(JSON.parse(currentPlayState.currentTour.valeur)))\n  //       setCurrentTour(parseInt(JSON.parse(currentPlayState.currentTour.valeur)))\n  //       setCurrentCycle(parseInt(JSON.parse(currentPlayState.currentCycle.valeur)))\n  //       const mursH=JSON.parse(currentPlayState.mursH.valeur)\n  //       const mursV=JSON.parse(currentPlayState.mursV.valeur)\n  //       setMursH(mursH)\n  //       setMursV(mursV)\n  //       setCarte(JSON.parse(currentPlayState.carte.valeur))\n  //       setResultats({\n  //         Decedes:parseInt(JSON.parse(currentPlayState.resultatsDecedes.valeur)),\n  //         Sauves:parseInt(JSON.parse(currentPlayState.resultatsSauves.valeur)),\n  //         Marqueurs:getNombreMarqueurs(mursH,mursV)\n  //       })\n  //     }\n  //     // getPositionFromCarte(JSON.parse(currentPlayState.carte.valeur))\n  //     isLoading.current=false\n  //   }\n  // }\n\n\n  useEffect(() => {\n    console.log(carte);\n\n    if (carte.length > 0) {\n      setNbLignesGrille(carte.length);\n      setNbColonnesGrille(carte[0].length);\n      setPosition([carte.length + 1, carte[0].length + 1]);\n    }\n  }, [carte]);\n  useEffect(() => {\n    console.log(currentTour);\n  }, [currentTour]); // useEffect(()=>{\n  //   if(session!=null && equipe!=null && currentTour==null){\n  //     // if(!isLoading.current) getPlayState(session,equipe)\n  //     // getPlayParameters()\n  //     // getPositionFromCarte()\n  //   }\n  // },[session,equipe,numPompier])\n\n  const getPlayParameters = async () => {// const param = await PlayAPI.getConfiguration(session)\n    // setConfiguration(param)\n  };\n\n  const handleBudgetChange = (type, newBudget) => {\n    var bSim = { ...budgetSim\n    };\n    bSim[type] = newBudget;\n    setBudgetSim(bSim);\n  };\n\n  useEffect(() => {\n    console.log(budgetSim);\n  }, [budgetSim]);\n  const [vue, setVue] = useState(\"equipements\");\n\n  const handleViewChange = (event, newValue) => {\n    if (newValue != null) {\n      setVue(newValue);\n    }\n  };\n\n  useEffect(() => {\n    console.log(vue);\n  }, [vue]);\n  return carte.length > 0 && position != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [vue == \"operations\" ? /*#__PURE__*/_jsxDEV(Grille, {\n      nbColonnesGrille: nbColonnesGrille,\n      nbLignesGrille: nbLignesGrille,\n      carte: carte,\n      position: position,\n      mursH: mursH,\n      mursV: mursV\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 8\n    }, this) : null, vue == \"interventions\" ? /*#__PURE__*/_jsxDEV(InterInterventions, {\n      budget: budget.interventions,\n      cycles: cycles.interventions,\n      handleBudgetChange: handleBudgetChange,\n      type: \"interventions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }, this) : null, vue == \"equipements\" ? /*#__PURE__*/_jsxDEV(InterInterventions, {\n      budget: budget.equipements,\n      cycles: cycles.equipements,\n      handleBudgetChange: handleBudgetChange,\n      type: \"equipements\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(InterBandeauTop // stocks={stocks}\n    , {\n      numeroPompier: numPompier,\n      numEquipe: equipe,\n      cycle: currentCycle,\n      tour: currentTour,\n      configuration: configuration // budget={budget}\n      ,\n      chrono: chrono,\n      handleViewChange: handleViewChange,\n      vue: vue,\n      interventionsValidatedinterventionsValidated: true,\n      equipementsValidated: equipementsValidated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(InterBandeauBottom, {\n      numeroPompier: numPompier,\n      tour: currentTour,\n      resultats: resultats,\n      vue: vue,\n      budget: vue === \"interventions\" ? budget.interventions : budget.equipements\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 400,\n    columnNumber: 7\n  }, this) : null;\n};\n\n_s(InterInterface, \"PZEjkfgGZcLu/ZY3mvAd8tlQKp0=\", false, function () {\n  return [useHistory];\n});\n\n_c = InterInterface;\nexport default InterInterface;\n\nvar _c;\n\n$RefreshReg$(_c, \"InterInterface\");","map":{"version":3,"sources":["C:/Users/Hugo DufrÃªne/decitude/client/src/routes/InterInterface.js"],"names":["React","useState","useEffect","useRef","PlayAPI","InterBandeauTop","InterBandeauBottom","Grille","InterInterventions","useHistory","cookie","InterEquipements","InterInterface","console","log","history","user","load","numPompier","setNumPompier","currentTour","setCurrentTour","currentCycle","setCurrentCycle","session","setSession","equipe","setEquipe","chrono","setChrono","chronoTimer","setInterval","clearInterval","configuration","setConfiguration","chronoTour","valeur","nbSequences","nbCyclesParSequence","nbPompEquipe","resultats","setResultats","Decedes","Sauves","Marqueurs","budget","setBudget","interventions","sequence","total","depense","cycle","equipements","cycles","setCycles","numCycle","pomp1","pomp2","pomp3","pomp4","pomp5","pomp6","budgetSim","setBudgetSim","interventionsValidated","setInterventionsValidated","equipementsValidated","setEquipementsValidated","isLoading","carte","setCarte","nbLignesGrille","setNbLignesGrille","nbColonnesGrille","setNbColonnesGrille","position","setPosition","mursH","setMursH","mursV","setMursV","getNombreMarqueurs","nbMarqueurs","forEach","ligne","length","getPlayParameters","handleBudgetChange","type","newBudget","bSim","vue","setVue","handleViewChange","event","newValue"],"mappings":";;;AAAA,OAAO,mBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,eAAP,MAA4B,+CAA5B;AACA,OAAOC,kBAAP,MAA+B,kDAA/B;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,kBAAP,MAA+B,kDAA/B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAGA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,gBAAP,MAA6B,gDAA7B;;;AAGA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAE3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AAEA,QAAMO,IAAI,GAAGN,MAAM,CAACO,IAAP,CAAY,MAAZ,CAAb,CAL2B,CAM3B;AACA;;AAIA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,CAAD,CAA5C,CAX2B,CAY3B;AACA;;AACA,QAAM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAAC,CAAD,CAAhD,CAf2B,CAgB3B;AACA;;AACA,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACyB,MAAD,EAASC,SAAT,IAAsB1B,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAAC2B,MAAD,EAASC,SAAT,IAAsB5B,QAAQ,CAAC,IAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAYc,MAAZ;;AACA,QAAIR,WAAW,IAAIF,UAAnB,EAA+B;AAC7B,UAAIU,MAAM,GAAG,CAAb,EAAgB;AAEd,YAAIE,WAAW,GAAGC,WAAW,CAAC,MAAM;AAClCF,UAAAA,SAAS,CAACD,MAAM,IAAIA,MAAM,GAAG,CAApB,CAAT;AAED,SAH4B,EAG1B,IAH0B,CAA7B;AAKD;;AACD,aAAO,MAAM;AACXI,QAAAA,aAAa,CAACF,WAAD,CAAb;AACD,OAFD;AAGD;AACF,GAfQ,EAeN,CAACF,MAAD,CAfM,CAAT,CAtB2B,CAyC3B;;AACA,QAAM,CAACK,aAAD,EAAgBC,gBAAhB,IAAoCjC,QAAQ,CAAE;AAClDkC,IAAAA,UAAU,EAAC;AAACC,MAAAA,MAAM,EAAG;AAAV,KADuC;AAElDC,IAAAA,WAAW,EAAC;AAACD,MAAAA,MAAM,EAAG;AAAV,KAFsC;AAGlDE,IAAAA,mBAAmB,EAAC;AAACF,MAAAA,MAAM,EAAG;AAAV,KAH8B;AAIlDG,IAAAA,YAAY,EAAC;AAACH,MAAAA,MAAM,EAAC;AAAR;AAJqC,GAAF,CAAlD;AAOAlC,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAYmB,aAAZ;;AACA,QAAIA,aAAa,IAAI,IAArB,EAA2B;AACzBJ,MAAAA,SAAS,CAACI,aAAa,CAACE,UAAd,CAAyBC,MAA1B,CAAT;AACD;AACF,GALQ,EAKN,CAACH,aAAD,CALM,CAAT,CAjD2B,CAwD3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BxC,QAAQ,CAAC;AACzCyC,IAAAA,OAAO,EAAE,CADgC;AAEzCC,IAAAA,MAAM,EAAE,CAFiC;AAGzCC,IAAAA,SAAS,EAAE;AAH8B,GAAD,CAA1C,CAhE2B,CAsE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsB7C,QAAQ,CAAC;AAClC8C,IAAAA,aAAa,EAAC;AACZC,MAAAA,QAAQ,EAAC;AACPC,QAAAA,KAAK,EAAC,GADC;AAEPC,QAAAA,OAAO,EAAC;AAFD,OADG;AAKZC,MAAAA,KAAK,EAAC;AACJF,QAAAA,KAAK,EAAC,GADF;AAEJC,QAAAA,OAAO,EAAC;AAFJ;AALM,KADoB;AAWlCE,IAAAA,WAAW,EAAC;AACVJ,MAAAA,QAAQ,EAAC;AACPC,QAAAA,KAAK,EAAC,GADC;AAEPC,QAAAA,OAAO,EAAC;AAFD,OADC;AAKVC,MAAAA,KAAK,EAAC;AACJF,QAAAA,KAAK,EAAC,GADF;AAEJC,QAAAA,OAAO,EAAC;AAFJ;AALI;AAXsB,GAAD,CAApC;AAsBA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBrD,QAAQ,CAAC;AACnC8C,IAAAA,aAAa,EAAC,CACX;AACIQ,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KADW,EAUX;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KAVW,EAmBX;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAC,GAFV;AAGIC,MAAAA,KAAK,EAAC,GAHV;AAIIC,MAAAA,KAAK,EAAC,GAJV;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KAnBW,EA4BX;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KA5BW,EAqCX;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KArCW,EA8CX;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KA9CW,CADqB;AA0DnCT,IAAAA,WAAW,EAAC,CACb;AACIG,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KADa,EAUb;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KAVa,EAmBb;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,IALX;AAMIC,MAAAA,KAAK,EAAE,IANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KAnBa,EA4Bb;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KA5Ba,EAqCb;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KArCa,EA8Cb;AACIN,MAAAA,QAAQ,EAAE,CADd;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,KAAK,EAAE,GAHX;AAIIC,MAAAA,KAAK,EAAE,GAJX;AAKIC,MAAAA,KAAK,EAAE,GALX;AAMIC,MAAAA,KAAK,EAAE,GANX;AAOIC,MAAAA,KAAK,EAAE;AAPX,KA9Ca;AA1DuB,GAAD,CAApC;AAoHD,QAAM,CAACC,SAAD,EAAWC,YAAX,IAAyB9D,QAAQ,CAAC;AACtC8C,IAAAA,aAAa,EAAE,EADuB;AAEtCK,IAAAA,WAAW,EAAC;AAF0B,GAAD,CAAvC;AAIA,QAAM,CAACY,sBAAD,EAAwBC,yBAAxB,IAAmDhE,QAAQ,CAAC,KAAD,CAAjE;AACA,QAAM,CAACiE,oBAAD,EAAsBC,uBAAtB,IAA+ClE,QAAQ,CAAC,KAAD,CAA7D;AAKA,QAAMmE,SAAS,GAAGjE,MAAM,CAAC,KAAD,CAAxB,CApO2B,CAsO3B;;AAEA,QAAM,CAACkE,KAAD,EAAQC,QAAR,IAAoBrE,QAAQ,CAAC,CACjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CADiC,EAEjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAFiC,EAGjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHiC,EAIjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAJiC,EAKjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CALiC,EAMjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CANiC,EAOjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAPiC,EAQjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CARiC,CAAD,CAAlC,CAxO2B,CAmP3B;;AAEA,QAAM,CAACsE,cAAD,EAAiBC,iBAAjB,IAAsCvE,QAAQ,CAAC,CAAD,CAApD;AACA,QAAM,CAACwE,gBAAD,EAAmBC,mBAAnB,IAA0CzE,QAAQ,CAAC,CAAD,CAAxD;AACA,QAAM,CAAC0E,QAAD,EAAWC,WAAX,IAA0B3E,QAAQ,CAAC,IAAD,CAAxC;AAGA,QAAM,CAAC4E,KAAD,EAAQC,QAAR,IAAoB7E,QAAQ,CAAC,CACjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CADiC,EAEjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAFiC,EAGjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAHiC,EAIjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAJiC,EAKjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CALiC,EAMjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CANiC,EAOjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAPiC,EAQjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CARiC,EASjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CATiC,CAAD,CAAlC;AAYA,QAAM,CAAC8E,KAAD,EAAQC,QAAR,IAAoB/E,QAAQ,CAAC,CACjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CADiC,EAEjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAFiC,EAGjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAHiC,EAIjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAJiC,EAKjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CALiC,EAMjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CANiC,EAOjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CAPiC,EAQjC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,CARiC,CAAD,CAAlC;;AAYA,QAAMgF,kBAAkB,GAAG,CAACJ,KAAD,EAAQE,KAAR,KAAkB;AAC3C,QAAIG,WAAW,GAAG,CAAlB;AACAL,IAAAA,KAAK,CAACM,OAAN,CAAcC,KAAK,IAAI;AACrBA,MAAAA,KAAK,CAACD,OAAN,CAAc/C,MAAM,IAAI;AACtB,YAAIA,MAAM,IAAI,CAAd,EAAiB8C,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACjB,YAAI9C,MAAM,IAAI,CAAd,EAAiB8C,WAAW,GAAGA,WAAW,GAAG,CAA5B;AAClB,OAHD;AAID,KALD;AAMAH,IAAAA,KAAK,CAACI,OAAN,CAAcC,KAAK,IAAI;AACrBA,MAAAA,KAAK,CAACD,OAAN,CAAc/C,MAAM,IAAI;AACtB,YAAIA,MAAM,IAAI,CAAd,EAAiB8C,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACjB,YAAI9C,MAAM,IAAI,CAAd,EAAiB8C,WAAW,GAAGA,WAAW,GAAG,CAA5B;AAClB,OAHD;AAID,KALD;AAMA,WAAOA,WAAP;AACD,GAfD,CAlR2B,CAmS3B;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAGAhF,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAYuD,KAAZ;;AACA,QAAIA,KAAK,CAACgB,MAAN,GAAe,CAAnB,EAAsB;AACpBb,MAAAA,iBAAiB,CAACH,KAAK,CAACgB,MAAP,CAAjB;AACAX,MAAAA,mBAAmB,CAACL,KAAK,CAAC,CAAD,CAAL,CAASgB,MAAV,CAAnB;AACAT,MAAAA,WAAW,CAAC,CAACP,KAAK,CAACgB,MAAN,GAAa,CAAd,EAAiBhB,KAAK,CAAC,CAAD,CAAL,CAASgB,MAAT,GAAkB,CAAnC,CAAD,CAAX;AACD;AAEF,GARQ,EAQN,CAAChB,KAAD,CARM,CAAT;AAUAnE,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAYM,WAAZ;AACD,GAFQ,EAEN,CAACA,WAAD,CAFM,CAAT,CA3U2B,CAgV3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMkE,iBAAiB,GAAG,YAAY,CACpC;AACA;AAED,GAJD;;AAYA,QAAMC,kBAAkB,GAAC,CAACC,IAAD,EAAMC,SAAN,KAAkB;AACzC,QAAIC,IAAI,GAAG,EAAC,GAAG5B;AAAJ,KAAX;AACA4B,IAAAA,IAAI,CAACF,IAAD,CAAJ,GAAWC,SAAX;AACA1B,IAAAA,YAAY,CAAC2B,IAAD,CAAZ;AACD,GAJD;;AAMAxF,EAAAA,SAAS,CAAC,MAAI;AACZW,IAAAA,OAAO,CAACC,GAAR,CAAYgD,SAAZ;AACD,GAFQ,EAEP,CAACA,SAAD,CAFO,CAAT;AAOA,QAAM,CAAC6B,GAAD,EAAKC,MAAL,IAAa3F,QAAQ,CAAC,aAAD,CAA3B;;AAEA,QAAM4F,gBAAgB,GAAC,CAACC,KAAD,EAAOC,QAAP,KAAkB;AACvC,QAAGA,QAAQ,IAAE,IAAb,EAAkB;AAChBH,MAAAA,MAAM,CAACG,QAAD,CAAN;AACD;AACF,GAJD;;AAKA7F,EAAAA,SAAS,CAAC,MAAI;AACZW,IAAAA,OAAO,CAACC,GAAR,CAAY6E,GAAZ;AACD,GAFQ,EAEP,CAACA,GAAD,CAFO,CAAT;AAKA,SAEEtB,KAAK,CAACgB,MAAN,GAAe,CAAf,IAAoBV,QAAQ,IAAI,IAAhC,gBAEE;AAAA,eAECgB,GAAG,IAAE,YAAL,gBACA,QAAC,MAAD;AACG,MAAA,gBAAgB,EAAElB,gBADrB;AAEG,MAAA,cAAc,EAAEF,cAFnB;AAGG,MAAA,KAAK,EAAEF,KAHV;AAIG,MAAA,QAAQ,EAAEM,QAJb;AAKG,MAAA,KAAK,EAAEE,KALV;AAMG,MAAA,KAAK,EAAEE;AANV;AAAA;AAAA;AAAA;AAAA,YADA,GASE,IAXH,EAgBEY,GAAG,IAAE,eAAL,gBAEA,QAAC,kBAAD;AACE,MAAA,MAAM,EAAE9C,MAAM,CAACE,aADjB;AAEE,MAAA,MAAM,EAAEM,MAAM,CAACN,aAFjB;AAGE,MAAA,kBAAkB,EAAEwC,kBAHtB;AAIE,MAAA,IAAI,EAAC;AAJP;AAAA;AAAA;AAAA;AAAA,YAFA,GASC,IAzBH,EA6BEI,GAAG,IAAE,aAAL,gBAEA,QAAC,kBAAD;AACE,MAAA,MAAM,EAAE9C,MAAM,CAACO,WADjB;AAEE,MAAA,MAAM,EAAEC,MAAM,CAACD,WAFjB;AAGE,MAAA,kBAAkB,EAAEmC,kBAHtB;AAIE,MAAA,IAAI,EAAC;AAJP;AAAA;AAAA;AAAA;AAAA,YAFA,GAQC,IArCH,eAyCE,QAAC,eAAD,CACE;AADF;AAEE,MAAA,aAAa,EAAErE,UAFjB;AAGE,MAAA,SAAS,EAAEQ,MAHb;AAIE,MAAA,KAAK,EAAEJ,YAJT;AAKE,MAAA,IAAI,EAAEF,WALR;AAME,MAAA,aAAa,EAAEa,aANjB,CAOE;AAPF;AAQE,MAAA,MAAM,EAAEL,MARV;AASE,MAAA,gBAAgB,EAAEiE,gBATpB;AAUE,MAAA,GAAG,EAAEF,GAVP;AAWE,MAAA,4CAA4C,MAX9C;AAYE,MAAA,oBAAoB,EAAEzB;AAZxB;AAAA;AAAA;AAAA;AAAA,YAzCF,eAwDE,QAAC,kBAAD;AACE,MAAA,aAAa,EAAEhD,UADjB;AAEE,MAAA,IAAI,EAAEE,WAFR;AAGE,MAAA,SAAS,EAAEoB,SAHb;AAIE,MAAA,GAAG,EAAEmD,GAJP;AAKE,MAAA,MAAM,EAAEA,GAAG,KAAG,eAAN,GAAuB9C,MAAM,CAACE,aAA9B,GAA8CF,MAAM,CAACO;AAL/D;AAAA;AAAA;AAAA;AAAA,YAxDF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,GAkEI,IApEN;AAwED,CArcD;;GAAMxC,c;UAGYH,U;;;KAHZG,c;AAucN,eAAeA,cAAf","sourcesContent":["import \"../styles/App.css\"\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport PlayAPI from \"../API/PlayAPI\"\r\nimport InterBandeauTop from \"../components/interfaceJoueur/InterBandeauTop\"\r\nimport InterBandeauBottom from \"../components/interfaceJoueur/InterBandeauBottom\"\r\nimport Grille from \"../components/interfaceJoueur/Grille\"\r\nimport InterInterventions from \"../components/interfaceJoueur/InterInterventions\"\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nimport cookie from 'react-cookies'\r\nimport InterEquipements from \"../components/interfaceJoueur/InterEquipements\"\r\n\r\n\r\nconst InterInterface = () => {\r\n\r\n  console.log(\"interface inter\")\r\n  const history = useHistory()\r\n\r\n  const user = cookie.load(\"user\")\r\n  // console.log(user)\r\n  // if(user==null || user==undefined) history.push(\"/login\");\r\n\r\n\r\n\r\n  const [numPompier, setNumPompier] = useState(0)\r\n  // const [currentTour, setCurrentTour] = useState(null)\r\n  // const [currentCycle, setCurrentCycle] = useState(null)\r\n  const [currentTour, setCurrentTour] = useState(1)\r\n  const [currentCycle, setCurrentCycle] = useState(1)\r\n  // const [session,setSession]=useState(user.session)\r\n  // const [equipe,setEquipe]=useState(user.equipe)\r\n  const [session, setSession] = useState(1)\r\n  const [equipe, setEquipe] = useState(1)\r\n  const [chrono, setChrono] = useState(null)\r\n\r\n  useEffect(() => {\r\n    console.log(chrono)\r\n    if (currentTour == numPompier) {\r\n      if (chrono > 0) {\r\n\r\n        var chronoTimer = setInterval(() => {\r\n          setChrono(chrono => chrono - 1)\r\n\r\n        }, 1000)\r\n\r\n      }\r\n      return () => {\r\n        clearInterval(chronoTimer)\r\n      }\r\n    }\r\n  }, [chrono])\r\n\r\n\r\n\r\n  // const [configuration, setConfiguration] = useState(null)\r\n  const [configuration, setConfiguration] = useState( {\r\n    chronoTour:{valeur : 180},\r\n    nbSequences:{valeur : 4},\r\n    nbCyclesParSequence:{valeur : 2},\r\n    nbPompEquipe:{valeur:6}\r\n  })\r\n\r\n  useEffect(() => {\r\n    console.log(configuration)\r\n    if (configuration != null) {\r\n      setChrono(configuration.chronoTour.valeur)\r\n    }\r\n  }, [configuration])\r\n\r\n  // const [stocks, setStocks] = useState({\r\n  //   Interventions: 10,\r\n  //   Feu: 1,\r\n  //   FeuFum: 10,\r\n  //   Fum: 10,\r\n  //   Marqueur: 10,\r\n  // })\r\n\r\n  const [resultats, setResultats] = useState({\r\n    Decedes: 1,\r\n    Sauves: 2,\r\n    Marqueurs: 3\r\n  })\r\n\r\n  // const [interventions, setInterventions] = useState({\r\n  //   Deplacement: 0,\r\n  //   Feu: 0,\r\n  //   FeuFum: 0,\r\n  //   Fum: 0,\r\n  //   Marqueur: 0,\r\n  //   Porte: 0,\r\n  //   Habitant: 0\r\n  // })\r\n\r\n   const [budget, setBudget] = useState({\r\n      interventions:{\r\n        sequence:{\r\n          total:500,\r\n          depense:100\r\n        },\r\n        cycle:{\r\n          total:100,\r\n          depense:50\r\n        }\r\n      },\r\n      equipements:{\r\n        sequence:{\r\n          total:300,\r\n          depense:200\r\n        },\r\n        cycle:{\r\n          total:200,\r\n          depense:100\r\n        }\r\n      }\r\n   })\r\n   const [cycles, setCycles] = useState({\r\n     interventions:[\r\n        {\r\n            numCycle: 1,\r\n            pomp1: 100,\r\n            pomp2: 100,\r\n            pomp3: 100,\r\n            pomp4: 100,\r\n            pomp5: 100,\r\n            pomp6: 100,\r\n        },\r\n        {\r\n            numCycle: 3,\r\n            pomp1: 300,\r\n            pomp2: 300,\r\n            pomp3: 300,\r\n            pomp4: 300,\r\n            pomp5: 300,\r\n            pomp6: 300,\r\n        },\r\n        {\r\n            numCycle: 2,\r\n            pomp1:200,\r\n            pomp2:200,\r\n            pomp3:200,\r\n            pomp4: 200,\r\n            pomp5: 200,\r\n            pomp6: 200,\r\n        },\r\n        {\r\n            numCycle: 4,\r\n            pomp1: 400,\r\n            pomp2: 400,\r\n            pomp3: 400,\r\n            pomp4: 400,\r\n            pomp5: 400,\r\n            pomp6: 400,\r\n        },\r\n        {\r\n            numCycle: 5,\r\n            pomp1: 500,\r\n            pomp2: 500,\r\n            pomp3: 500,\r\n            pomp4: 500,\r\n            pomp5: 500,\r\n            pomp6: 500,\r\n        },\r\n        {\r\n            numCycle: 6,\r\n            pomp1: 600,\r\n            pomp2: 600,\r\n            pomp3: 600,\r\n            pomp4: 600,\r\n            pomp5: 600,\r\n            pomp6: 600,\r\n        },\r\n    ]\r\n    ,\r\n     equipements:[\r\n    {\r\n        numCycle: 1,\r\n        pomp1: 100,\r\n        pomp2: 200,\r\n        pomp3: 300,\r\n        pomp4: 400,\r\n        pomp5: 500,\r\n        pomp6: 600,\r\n    },\r\n    {\r\n        numCycle: 3,\r\n        pomp1: 100,\r\n        pomp2: 100,\r\n        pomp3: 100,\r\n        pomp4: 100,\r\n        pomp5: 100,\r\n        pomp6: 100,\r\n    },\r\n    {\r\n        numCycle: 2,\r\n        pomp1: 700,\r\n        pomp2: 800,\r\n        pomp3: 900,\r\n        pomp4: 1000,\r\n        pomp5: 1100,\r\n        pomp6: 1200,\r\n    },\r\n    {\r\n        numCycle: 4,\r\n        pomp1: 100,\r\n        pomp2: 100,\r\n        pomp3: 100,\r\n        pomp4: 100,\r\n        pomp5: 100,\r\n        pomp6: 100,\r\n    },\r\n    {\r\n        numCycle: 5,\r\n        pomp1: 100,\r\n        pomp2: 100,\r\n        pomp3: 100,\r\n        pomp4: 100,\r\n        pomp5: 100,\r\n        pomp6: 100,\r\n    },\r\n    {\r\n        numCycle: 6,\r\n        pomp1: 100,\r\n        pomp2: 100,\r\n        pomp3: 100,\r\n        pomp4: 100,\r\n        pomp5: 100,\r\n        pomp6: 100,\r\n    },\r\n]}\r\n)\r\n\r\n  const [budgetSim,setBudgetSim]=useState({\r\n    interventions: { },\r\n    equipements:{ },\r\n  })\r\n  const [interventionsValidated,setInterventionsValidated]=useState(false)\r\n  const [equipementsValidated,setEquipementsValidated]=useState(false)\r\n\r\n\r\n\r\n\r\n  const isLoading = useRef(false)\r\n\r\n  // INITIALISATION DE LA CARTE\r\n\r\n  const [carte, setCarte] = useState([\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  ])\r\n\r\n  // const [carte, setCarte] = useState([])\r\n\r\n  const [nbLignesGrille, setNbLignesGrille] = useState(0)\r\n  const [nbColonnesGrille, setNbColonnesGrille] = useState(0)\r\n  const [position, setPosition] = useState(null)\r\n\r\n\r\n  const [mursH, setMursH] = useState([\r\n    [1, 1, 1, 1, 1, 1, 2, 6, 1, 1, 1, 1, 2, 5, 1, 1],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [1, 1, 1, 1, 2, 6, 1, 6, 2, 1, 1, 1, 5, 2, 1, 1],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [1, 1, 1, 1, 1, 1, 6, 2, 1, 1, 1, 1, 1, 1, 1, 1]\r\n  ])\r\n\r\n  const [mursV, setMursV] = useState([\r\n    [1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\r\n    [2, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\r\n    [5, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\r\n    [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n    [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1],\r\n    [1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 5, 0, 0, 0, 0, 0, 1],\r\n    [1, 0, 0, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 0, 0, 2],\r\n    [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 5]\r\n  ])\r\n\r\n\r\n  const getNombreMarqueurs = (mursH, mursV) => {\r\n    let nbMarqueurs = 0\r\n    mursH.forEach(ligne => {\r\n      ligne.forEach(valeur => {\r\n        if (valeur == 3) nbMarqueurs = nbMarqueurs + 1\r\n        if (valeur == 4) nbMarqueurs = nbMarqueurs + 2\r\n      })\r\n    })\r\n    mursV.forEach(ligne => {\r\n      ligne.forEach(valeur => {\r\n        if (valeur == 3) nbMarqueurs = nbMarqueurs + 1\r\n        if (valeur == 4) nbMarqueurs = nbMarqueurs + 2\r\n      })\r\n    })\r\n    return nbMarqueurs\r\n  }\r\n\r\n  // GET PLAY PARAMETERS \r\n  // const getPlayState=async(session,equipe)=>{\r\n  //   if(!isLoading.current){\r\n  //     isLoading.current=true\r\n  //     const currentPlayState = await PlayAPI.getPlayState(session,equipe)\r\n\r\n  //     if(Object.keys(currentPlayState).length>0 ){\r\n  //       // console.log(\"Get play state 2\")\r\n  //       console.log(parseInt(JSON.parse(currentPlayState.currentTour.valeur)))\r\n\r\n  //       setCurrentTour(parseInt(JSON.parse(currentPlayState.currentTour.valeur)))\r\n  //       setCurrentCycle(parseInt(JSON.parse(currentPlayState.currentCycle.valeur)))\r\n  //       const mursH=JSON.parse(currentPlayState.mursH.valeur)\r\n  //       const mursV=JSON.parse(currentPlayState.mursV.valeur)\r\n  //       setMursH(mursH)\r\n  //       setMursV(mursV)\r\n  //       setCarte(JSON.parse(currentPlayState.carte.valeur))\r\n  //       setResultats({\r\n  //         Decedes:parseInt(JSON.parse(currentPlayState.resultatsDecedes.valeur)),\r\n  //         Sauves:parseInt(JSON.parse(currentPlayState.resultatsSauves.valeur)),\r\n  //         Marqueurs:getNombreMarqueurs(mursH,mursV)\r\n  //       })\r\n  //     }\r\n  //     // getPositionFromCarte(JSON.parse(currentPlayState.carte.valeur))\r\n  //     isLoading.current=false\r\n  //   }\r\n\r\n  // }\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(carte)\r\n    if (carte.length > 0) {\r\n      setNbLignesGrille(carte.length)\r\n      setNbColonnesGrille(carte[0].length)\r\n      setPosition([carte.length+1, carte[0].length + 1])\r\n    }\r\n\r\n  }, [carte])\r\n\r\n  useEffect(() => {\r\n    console.log(currentTour)\r\n  }, [currentTour])\r\n\r\n\r\n  // useEffect(()=>{\r\n  //   if(session!=null && equipe!=null && currentTour==null){\r\n  //     // if(!isLoading.current) getPlayState(session,equipe)\r\n  //     // getPlayParameters()\r\n  //     // getPositionFromCarte()\r\n  //   }\r\n  // },[session,equipe,numPompier])\r\n\r\n  const getPlayParameters = async () => {\r\n    // const param = await PlayAPI.getConfiguration(session)\r\n    // setConfiguration(param)\r\n\r\n  }\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n  const handleBudgetChange=(type,newBudget)=>{\r\n    var bSim = {...budgetSim}\r\n    bSim[type]=newBudget\r\n    setBudgetSim(bSim)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    console.log(budgetSim)\r\n  },[budgetSim])\r\n\r\n\r\n\r\n\r\n  const [vue,setVue]=useState(\"equipements\")\r\n\r\n  const handleViewChange=(event,newValue)=>{\r\n    if(newValue!=null){\r\n      setVue(newValue)\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    console.log(vue)\r\n  },[vue])\r\n\r\n\r\n  return (\r\n\r\n    carte.length > 0 && position != null ?\r\n\r\n      <div>\r\n       { \r\n       vue==\"operations\" ? \r\n       <Grille\r\n          nbColonnesGrille={nbColonnesGrille}\r\n          nbLignesGrille={nbLignesGrille}\r\n          carte={carte}\r\n          position={position}\r\n          mursH={mursH}\r\n          mursV={mursV}\r\n        />\r\n       : null\r\n       }\r\n\r\n\r\n       {\r\n        vue==\"interventions\" ? \r\n\r\n        <InterInterventions\r\n          budget={budget.interventions}\r\n          cycles={cycles.interventions}\r\n          handleBudgetChange={handleBudgetChange}\r\n          type=\"interventions\"\r\n\r\n        />\r\n        :null\r\n       }\r\n\r\n      {\r\n        vue==\"equipements\" ? \r\n\r\n        <InterInterventions\r\n          budget={budget.equipements}\r\n          cycles={cycles.equipements}\r\n          handleBudgetChange={handleBudgetChange}\r\n          type=\"equipements\"\r\n        />\r\n        :null\r\n       }    \r\n        \r\n\r\n        <InterBandeauTop\r\n          // stocks={stocks}\r\n          numeroPompier={numPompier}\r\n          numEquipe={equipe}\r\n          cycle={currentCycle}\r\n          tour={currentTour}\r\n          configuration={configuration}\r\n          // budget={budget}\r\n          chrono={chrono}\r\n          handleViewChange={handleViewChange}\r\n          vue={vue}\r\n          interventionsValidatedinterventionsValidated\r\n          equipementsValidated={equipementsValidated}\r\n        />\r\n\r\n        <InterBandeauBottom\r\n          numeroPompier={numPompier}\r\n          tour={currentTour}\r\n          resultats={resultats}\r\n          vue={vue}\r\n          budget={vue===\"interventions\"? budget.interventions : budget.equipements}\r\n        />\r\n      </div>\r\n      : null\r\n\r\n  );\r\n\r\n}\r\n\r\nexport default InterInterface;\r\n\r\n"]},"metadata":{},"sourceType":"module"}