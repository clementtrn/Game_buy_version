{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hugod\\\\decitude\\\\client\\\\src\\\\routes\\\\AdminInterface.js\",\n    _s = $RefreshSig$();\n\nimport \"../styles/AdminInterface.css\";\nimport \"../styles/App.css\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PlayAPI from \"../API/PlayAPI\";\nimport { useHistory } from 'react-router-dom';\nimport { TextField, Button, Divider, Typography } from \"@material-ui/core\";\nimport cookie from 'react-cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminInterface = () => {\n  _s();\n\n  const history = useHistory();\n  const user = cookie.load(\"user\");\n\n  const handleDisconnect = () => {\n    cookie.save('user', \"disconnected\", {\n      path: '/',\n      maxAge: 60 * 60 * 1.5 //sec\n\n    });\n    history.push('/login');\n  };\n\n  if (user === null || user === undefined || user == \"disconnected\") history.push(\"/login\");\n  if (user !== null && user !== undefined && user.role !== undefined && !user.role.includes(\"ADMIN\")) handleDisconnect();\n  const [session, setSession] = useState(user !== null && user !== undefined ? user.session : null);\n  const [configuration, setConfiguration] = useState(null);\n  const [lancement, setLancement] = useState(true);\n  const socket = PlayAPI.getSocket();\n  useEffect(() => {\n    socket.on('startStopPartie', data => {\n      setLancement(!data.start);\n      console.log(!data.start);\n    });\n  });\n\n  const handleClicLancement = () => {\n    PlayAPI.startStopPartie(lancement);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body-admin\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h1\",\n      color: \"primary\",\n      children: \"Espace administrateur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-buttons-container\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        className: \"admin-button\",\n        color: lancement ? \"default\" : \"primary\",\n        onClick: handleClicLancement // disabled={lancement}\n        ,\n        children: lancement ? \"Lancer la partie\" : \"Arrêter la partie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdminInterface, \"vMtkNgTq2X/ePzBCCGQjoMMNchU=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminInterface;\nexport default AdminInterface;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminInterface\");","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/routes/AdminInterface.js"],"names":["React","useState","useEffect","useRef","PlayAPI","useHistory","TextField","Button","Divider","Typography","cookie","AdminInterface","history","user","load","handleDisconnect","save","path","maxAge","push","undefined","role","includes","session","setSession","configuration","setConfiguration","lancement","setLancement","socket","getSocket","on","data","start","console","log","handleClicLancement","startStopPartie"],"mappings":";;;AAAA,OAAO,8BAAP;AACA,OAAO,mBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,UAArC,QAAuD,mBAAvD;AAEA,OAAOC,MAAP,MAAmB,eAAnB;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAE3B,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AAGA,QAAMQ,IAAI,GAAGH,MAAM,CAACI,IAAP,CAAY,MAAZ,CAAb;;AAEA,QAAMC,gBAAgB,GAAG,MAAM;AAC7BL,IAAAA,MAAM,CAACM,IAAP,CAAY,MAAZ,EAAoB,cAApB,EAAoC;AAClCC,MAAAA,IAAI,EAAE,GAD4B;AAElCC,MAAAA,MAAM,EAAE,KAAK,EAAL,GAAU,GAFgB,CAEX;;AAFW,KAApC;AAIAN,IAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACD,GAND;;AASA,MAAIN,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKO,SAA1B,IAAuCP,IAAI,IAAE,cAAjD,EAAiED,OAAO,CAACO,IAAR,CAAa,QAAb;AACjE,MAAGN,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKO,SAA1B,IAAuCP,IAAI,CAACQ,IAAL,KAAYD,SAAnD,IAAgE,CAACP,IAAI,CAACQ,IAAL,CAAUC,QAAV,CAAmB,OAAnB,CAApE,EAAiGP,gBAAgB;AAEjH,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAACY,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKO,SAA1B,GAAsCP,IAAI,CAACU,OAA3C,GAAqD,IAAtD,CAAtC;AAEA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoCzB,QAAQ,CAAC,IAAD,CAAlD;AAGA,QAAM,CAAC0B,SAAD,EAAWC,YAAX,IAAyB3B,QAAQ,CAAC,IAAD,CAAvC;AACA,QAAM4B,MAAM,GAAGzB,OAAO,CAAC0B,SAAR,EAAf;AAGA5B,EAAAA,SAAS,CAAC,MAAM;AAEd2B,IAAAA,MAAM,CAACE,EAAP,CAAU,iBAAV,EAA8BC,IAAD,IAAU;AACrCJ,MAAAA,YAAY,CAAC,CAACI,IAAI,CAACC,KAAP,CAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,CAACH,IAAI,CAACC,KAAlB;AACH,KAHC;AAIH,GANU,CAAT;;AASA,QAAMG,mBAAmB,GAAC,MAAI;AAC5BhC,IAAAA,OAAO,CAACiC,eAAR,CAAwBV,SAAxB;AACD,GAFD;;AAIA,sBACA;AACM,IAAA,SAAS,EAAC,YADhB;AAAA,4BAIM,QAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,KAAK,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJN,eAME;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA,6BACI,QAAC,MAAD;AACE,QAAA,OAAO,EAAC,WADV;AAGE,QAAA,SAAS,EAAC,cAHZ;AAIE,QAAA,KAAK,EAAEA,SAAS,GAAK,SAAL,GAAiB,SAJnC;AAKE,QAAA,OAAO,EAAES,mBALX,CAME;AANF;AAAA,kBAQGT,SAAS,GAAG,kBAAH,GAAwB;AARpC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAuBD,CAhED;;GAAMhB,c;UAEYN,U;;;KAFZM,c;AAkEN,eAAeA,cAAf","sourcesContent":["import \"../styles/AdminInterface.css\"\r\nimport \"../styles/App.css\"\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport PlayAPI from \"../API/PlayAPI\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TextField, Button, Divider, Typography } from \"@material-ui/core\"\r\n\r\nimport cookie from 'react-cookies'\r\n\r\nconst AdminInterface = () => {\r\n\r\n  const history = useHistory()\r\n\r\n\r\n  const user = cookie.load(\"user\")\r\n  \r\n  const handleDisconnect = () => {\r\n    cookie.save('user', \"disconnected\", {\r\n      path: '/',\r\n      maxAge: 60 * 60 * 1.5, //sec\r\n    })\r\n    history.push('/login');\r\n  }\r\n\r\n\r\n  if (user === null || user === undefined || user==\"disconnected\") history.push(\"/login\");\r\n  if(user !== null && user !== undefined && user.role!==undefined && !user.role.includes(\"ADMIN\")) handleDisconnect()\r\n\r\n  const [session, setSession] = useState(user !== null && user !== undefined ? user.session : null)\r\n \r\n  const [configuration, setConfiguration] = useState(null)\r\n\r\n\r\n  const [lancement,setLancement]=useState(true)\r\n  const socket = PlayAPI.getSocket()\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    socket.on('startStopPartie', (data) => {\r\n      setLancement(!data.start)\r\n      console.log(!data.start)\r\n  });\r\n})\r\n\r\n\r\n  const handleClicLancement=()=>{\r\n    PlayAPI.startStopPartie(lancement)\r\n  }\r\n\r\n  return (\r\n  <div\r\n        className=\"body-admin\"\r\n      >\r\n\r\n        <Typography variant=\"h1\" color=\"primary\">Espace administrateur</Typography>\r\n\r\n    <div className=\"admin-buttons-container\">\r\n        <Button\r\n          variant=\"contained\"\r\n          \r\n          className=\"admin-button\"\r\n          color={lancement ?   \"default\" : \"primary\"}\r\n          onClick={handleClicLancement}\r\n          // disabled={lancement}\r\n        >\r\n          {lancement ? \"Lancer la partie\" : \"Arrêter la partie\"}\r\n        </Button>\r\n       \r\n      </div>\r\n \r\n</div>\r\n );\r\n}\r\n\r\nexport default AdminInterface;\r\n\r\n"]},"metadata":{},"sourceType":"module"}