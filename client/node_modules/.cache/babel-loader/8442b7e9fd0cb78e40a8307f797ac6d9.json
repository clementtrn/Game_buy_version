{"ast":null,"code":"import _objectSpread from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../styles/AdminInterface.css\";import\"../styles/App.css\";import React,{useState,useEffect,useRef}from'react';import PlayAPI from\"../API/PlayAPI\";import UsersAPI from\"../API/UsersAPI\";import{useHistory}from'react-router-dom';import{TextField,Button,Divider,Typography,TableContainer,TableHead,TableRow,Paper,TableBody,Table,TableCell}from\"@material-ui/core\";import io from'socket.io-client';import cookie from'react-cookies';import{config}from\"react-transition-group\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminInterface=function AdminInterface(){// console.log(\"admin\")\nvar history=useHistory();var user=cookie.load(\"user\");// console.log(user)\nvar handleDisconnect=function handleDisconnect(){// console.log(\"handleDisconnect\")\ncookie.save('user',\"disconnected\",{path:'/',maxAge:60*60*1.5//sec\n});history.push('/login');};if(user===null||user===undefined||user==\"disconnected\")history.push(\"/login\");if(user!==null&&user!==undefined&&user.role!==undefined&&!user.role.includes(\"ADMIN\"))handleDisconnect();var _useState=useState(user!==null&&user!==undefined?user.session:null),_useState2=_slicedToArray(_useState,2),session=_useState2[0],setSession=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),configuration=_useState4[0],setConfiguration=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),manualConfig=_useState6[0],setManualConfig=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),lancement=_useState8[0],setLancement=_useState8[1];var isLoading=useRef(false);var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),socket=_useState10[0],setSocket=_useState10[1];useEffect(function(){if(socket==null&&configuration!==null){var s=io.connect(\"https://www.back.leaders-extreme.fr\");setSocket(s);s.on('startStopPartie',function(data){setLancement(!data.start);// console.log(!data.start)\n});}});var getPlayParameters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(configuration===null)){_context.next=6;break;}_context.t0=setConfiguration;_context.next=4;return PlayAPI.getConfiguration(session);case 4:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getPlayParameters(){return _ref.apply(this,arguments);};}();useEffect(function(){getPlayState(session);setManualConfig(configuration);},[configuration]);var getPlayState=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(session){var currentPlayState;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!isLoading.current&&configuration!=null)){_context2.next=9;break;}isLoading.current=true;_context2.next=4;return PlayAPI.getPlayState(session,null);case 4:currentPlayState=_context2.sent;if(currentPlayState!==undefined){setLancement(!JSON.parse(currentPlayState.valeur));}else{console.log(\"error\");}// getPositionFromCarte(JSON.parse(currentPlayState.carte.valeur))\nisLoading.current=false;_context2.next=9;break;case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function getPlayState(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getPlayParameters();});var handleClicLancement=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return PlayAPI.startStopPartie(socket,session,lancement);case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleClicLancement(){return _ref3.apply(this,arguments);};}();var handleClicDisconnect=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// console.log(\"handleClic disc\")\nsetLancement(true);PlayAPI.disconnectUsers(socket,session);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function handleClicDisconnect(){return _ref4.apply(this,arguments);};}();var configChange=function configChange(evt){var name=evt.target.name;var val=evt.target.value;if(parseInt(val)>=0){var c=_objectSpread({},manualConfig);c[name].valeur=parseInt(val);setManualConfig(c);}// console.log(name,val)\n};// useEffect(() => {\n//   console.log(manualConfig)\n// }, [manualConfig])\nvar handleConfigChange=function handleConfigChange(){console.log(\"départ\");setLancement(true);PlayAPI.updateConfig(manualConfig,session).then(function(){handleClicDisconnect();});};var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),nbEquipes=_useState12[0],setNbEquipes=_useState12[1];var countEquipes=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var count;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return UsersAPI.getNbEquipes(session);case 2:count=_context5.sent.count;// console.log(count)\nsetNbEquipes(count);return _context5.abrupt(\"return\",count);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function countEquipes(){return _ref5.apply(this,arguments);};}();var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),users=_useState14[0],setUsers=_useState14[1];useEffect(function(){if(nbEquipes==null){countEquipes();getIdents();}},[nbEquipes]);useEffect(function(){countEquipes();},[users]);var createIdents=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var us;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return UsersAPI.getUsers(session);case 2:us=_context6.sent;console.log(us);setUsers(us);UsersAPI.createUsers(session,nbEquipes,us).then(function(){handleClicDisconnect();getIdents();setLancement(true);});case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function createIdents(){return _ref6.apply(this,arguments);};}();var getIdents=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.t0=setUsers;_context7.next=3;return UsersAPI.getUsers(session);case 3:_context7.t1=_context7.sent;(0,_context7.t0)(_context7.t1);case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function getIdents(){return _ref7.apply(this,arguments);};}();var resetPartie=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:// const count = countEquipes()\n// console.log(count)\n// const etats =await  PlayAPI.getGeneralStats(session)\nhandleClicDisconnect();PlayAPI.getGeneralStats(session).then(function(res){//  console.log(res)\nPlayAPI.resetPartie(nbEquipes,session,res,manualConfig.chronoTourInter.valeur).then(function(){setLancement(true);});});// PlayAPI.resetPartie(nbEquipes,session)\ncase 2:case\"end\":return _context8.stop();}}},_callee8);}));return function resetPartie(){return _ref8.apply(this,arguments);};}();var renderUsers=function renderUsers(){if(users!==null){return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:700},\"aria-label\":\"customized table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Equipe\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Role\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Identifiant\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Mot de passe\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:users.map(function(u){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:u.equipe}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:u.role}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:u.identifiant}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:u.mdp})]},u.identifiant+\" : \"+u.equipe+\" : \"+u.role);})})]})});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"body-admin\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h1\",color:\"primary\",children:\"Espace administrateur\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-buttons-container\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"admin-button\",color:lancement?\"default\":\"primary\",onClick:handleClicLancement// disabled={lancement}\n,children:lancement?\"Lancer la partie\":\"Mettre la partie sur pause\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"admin-button\",color:\"primary\",onClick:handleClicDisconnect// disabled={lancement}\n,children:\"Déconnecter les utilisateurs et mettre sur pause\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"admin-button\",color:\"primary\",onClick:resetPartie// disabled={lancement}\n,children:\"Déconnecter les utilisateurs et Relancer la partie\"}),/*#__PURE__*/_jsx(Divider,{}),manualConfig!==null&&manualConfig!==undefined&&nbEquipes!==null?/*#__PURE__*/_jsxs(\"form\",{method:\"post\",className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-buttons-config-container\",children:[/*#__PURE__*/_jsx(TextField// required\n,{label:\"Chrono Interm\\xE9diaire (s)\",type:\"number\"// variant=\"outlined\"\n,name:\"chronoTourInter\",value:manualConfig.chronoTourInter.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}}),/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Chrono Tactique (s)\"// variant=\"outlined\"\n,name:\"chronoTourTact\",value:manualConfig.chronoTourTact.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-buttons-config-container\",children:[/*#__PURE__*/_jsx(TextField// required\n,{label:\"Nombre de s\\xE9quences\",type:\"number\"// variant=\"outlined\"\n,name:\"nbSequences\",value:manualConfig.nbSequences.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}}),/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Budget cycle interm\\xE9diaire\"// variant=\"outlined\"\n,name:\"budgetDefaultInter\",value:manualConfig.budgetDefaultInter.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-buttons-config-container\",children:[/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Nombre de marqueurs max\"// variant=\"outlined\"\n,name:\"nbMarqueursMax\",value:manualConfig.nbMarqueursMax.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}}),/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Nombre de victimes max\"// variant=\"outlined\"\n,name:\"nbVictimesMax\",value:manualConfig.nbVictimesMax.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}}),/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Nombre d'habitants \\xE0 sauver\"// variant=\"outlined\"\n,name:\"nbHabitantsASauver\",value:manualConfig.nbHabitantsASauver.valeur,onChange:function onChange(evt){return configChange(evt);},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"admin-button\",color:\"primary\",onClick:handleConfigChange,children:\"Modifier les paramètres\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-buttons-config-container\",children:[/*#__PURE__*/_jsx(TextField// required\n,{type:\"number\",label:\"Nombre d'\\xE9quipes\"// variant=\"outlined\"\n,name:\"nbEquipes\",value:nbEquipes,onChange:function onChange(evt){if(parseInt(evt.target.value)>=0)setNbEquipes(parseInt(evt.target.value));},className:\"login-field\",color:\"primary\",inputProps:{style:{fontSize:25}},InputLabelProps:{style:{fontSize:20}}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",disabled:users==null,className:\"admin-button\",color:\"primary\",onClick:createIdents,children:\"Générer les identifiants\"})]})]}):null,/*#__PURE__*/_jsx(\"div\",{children:renderUsers()})]})]});};export default AdminInterface;","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/routes/AdminInterface.js"],"names":["React","useState","useEffect","useRef","PlayAPI","UsersAPI","useHistory","TextField","Button","Divider","Typography","TableContainer","TableHead","TableRow","Paper","TableBody","Table","TableCell","io","cookie","config","AdminInterface","history","user","load","handleDisconnect","save","path","maxAge","push","undefined","role","includes","session","setSession","configuration","setConfiguration","manualConfig","setManualConfig","lancement","setLancement","isLoading","socket","setSocket","s","connect","on","data","start","getPlayParameters","getConfiguration","getPlayState","current","currentPlayState","JSON","parse","valeur","console","log","handleClicLancement","startStopPartie","handleClicDisconnect","disconnectUsers","configChange","evt","name","target","val","value","parseInt","c","handleConfigChange","updateConfig","then","nbEquipes","setNbEquipes","countEquipes","getNbEquipes","count","users","setUsers","getIdents","createIdents","getUsers","us","createUsers","resetPartie","getGeneralStats","res","chronoTourInter","renderUsers","minWidth","map","u","equipe","identifiant","mdp","style","fontSize","chronoTourTact","nbSequences","budgetDefaultInter","nbMarqueursMax","nbVictimesMax","nbHabitantsASauver"],"mappings":"glBAAA,MAAO,8BAAP,CACA,MAAO,mBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,OAAP,KAAoB,gBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CAEA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,OAA5B,CAAqCC,UAArC,CAAiDC,cAAjD,CAAiEC,SAAjE,CAA4EC,QAA5E,CAAsFC,KAAtF,CAA6FC,SAA7F,CAAwGC,KAAxG,CAA+GC,SAA/G,KAAgI,mBAAhI,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CAEA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,OAASC,MAAT,KAAuB,wBAAvB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B;AACA,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CAGA,GAAMiB,CAAAA,IAAI,CAAGJ,MAAM,CAACK,IAAP,CAAY,MAAZ,CAAb,CACA;AACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B;AACAN,MAAM,CAACO,IAAP,CAAY,MAAZ,CAAoB,cAApB,CAAoC,CAClCC,IAAI,CAAE,GAD4B,CAElCC,MAAM,CAAE,GAAK,EAAL,CAAU,GAAK;AAFW,CAApC,EAIAN,OAAO,CAACO,IAAR,CAAa,QAAb,EACD,CAPD,CAUA,GAAIN,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKO,SAA1B,EAAuCP,IAAI,EAAI,cAAnD,CAAmED,OAAO,CAACO,IAAR,CAAa,QAAb,EACnE,GAAIN,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKO,SAA1B,EAAuCP,IAAI,CAACQ,IAAL,GAAcD,SAArD,EAAkE,CAACP,IAAI,CAACQ,IAAL,CAAUC,QAAV,CAAmB,OAAnB,CAAvE,CAAoGP,gBAAgB,GAEpH,cAA8BxB,QAAQ,CAACsB,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKO,SAA1B,CAAsCP,IAAI,CAACU,OAA3C,CAAqD,IAAtD,CAAtC,wCAAOA,OAAP,eAAgBC,UAAhB,eAEA,eAA0CjC,QAAQ,CAAC,IAAD,CAAlD,yCAAOkC,aAAP,eAAsBC,gBAAtB,eACA,eAAwCnC,QAAQ,CAAC,IAAD,CAAhD,yCAAOoC,YAAP,eAAqBC,eAArB,eAEA,eAAkCrC,QAAQ,CAAC,IAAD,CAA1C,yCAAOsC,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,SAAS,CAAGtC,MAAM,CAAC,KAAD,CAAxB,CAEA,eAA4BF,QAAQ,CAAC,IAAD,CAApC,0CAAOyC,MAAP,gBAAeC,SAAf,gBACAzC,SAAS,CAAC,UAAM,CACd,GAAIwC,MAAM,EAAI,IAAV,EAAkBP,aAAa,GAAK,IAAxC,CAA8C,CAC5C,GAAMS,CAAAA,CAAC,CAAG1B,EAAE,CAAC2B,OAAH,CAAW,qCAAX,CAAV,CACAF,SAAS,CAACC,CAAD,CAAT,CACAA,CAAC,CAACE,EAAF,CAAK,iBAAL,CAAwB,SAACC,IAAD,CAAU,CAChCP,YAAY,CAAC,CAACO,IAAI,CAACC,KAAP,CAAZ,CACA;AACD,CAHD,EAID,CACF,CATQ,CAAT,CAWA,GAAMC,CAAAA,iBAAiB,0FAAG,wIACpBd,aAAa,GAAK,IADE,sCAEtBC,gBAFsB,uBAEChC,CAAAA,OAAO,CAAC8C,gBAAR,CAAyBjB,OAAzB,CAFD,qHAAH,kBAAjBgB,CAAAA,iBAAiB,0CAAvB,CAKA/C,SAAS,CAAC,UAAM,CACdiD,YAAY,CAAClB,OAAD,CAAZ,CACAK,eAAe,CAACH,aAAD,CAAf,CACD,CAHQ,CAGN,CAACA,aAAD,CAHM,CAAT,CAKA,GAAMgB,CAAAA,YAAY,2FAAG,kBAAOlB,OAAP,gJAEf,CAACQ,SAAS,CAACW,OAAX,EAAsBjB,aAAa,EAAI,IAFxB,2BAIjBM,SAAS,CAACW,OAAV,CAAoB,IAApB,CAJiB,uBAKchD,CAAAA,OAAO,CAAC+C,YAAR,CAAqBlB,OAArB,CAA8B,IAA9B,CALd,QAKXoB,gBALW,gBAMjB,GAAIA,gBAAgB,GAAKvB,SAAzB,CAAoC,CAClCU,YAAY,CAAC,CAACc,IAAI,CAACC,KAAL,CAAWF,gBAAgB,CAACG,MAA5B,CAAF,CAAZ,CACD,CAFD,IAEO,CACLC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CACD;AACAjB,SAAS,CAACW,OAAV,CAAoB,KAApB,CAZiB,+EAAH,kBAAZD,CAAAA,YAAY,6CAAlB,CAmBAjD,SAAS,CAAC,UAAM,CACd+C,iBAAiB,GAClB,CAFQ,CAAT,CAKA,GAAMU,CAAAA,mBAAmB,2FAAG,+JACpBvD,CAAAA,OAAO,CAACwD,eAAR,CAAwBlB,MAAxB,CAAgCT,OAAhC,CAAyCM,SAAzC,CADoB,yDAAH,kBAAnBoB,CAAAA,mBAAmB,2CAAzB,CAIA,GAAME,CAAAA,oBAAoB,2FAAG,wIAC3B;AACArB,YAAY,CAAC,IAAD,CAAZ,CACApC,OAAO,CAAC0D,eAAR,CAAwBpB,MAAxB,CAAgCT,OAAhC,EAH2B,wDAAH,kBAApB4B,CAAAA,oBAAoB,2CAA1B,CAMA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACE,MAAJ,CAAWD,IAAxB,CACA,GAAME,CAAAA,GAAG,CAAGH,GAAG,CAACE,MAAJ,CAAWE,KAAvB,CAEA,GAAGC,QAAQ,CAACF,GAAD,CAAR,EAAe,CAAlB,CAAoB,CAClB,GAAIG,CAAAA,CAAC,kBAAQjC,YAAR,CAAL,CACAiC,CAAC,CAACL,IAAD,CAAD,CAAQT,MAAR,CAAiBa,QAAQ,CAACF,GAAD,CAAzB,CACA7B,eAAe,CAACgC,CAAD,CAAf,CACD,CAGD;AACD,CAZD,CAcA;AACA;AACA;AAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/Bd,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAlB,YAAY,CAAC,IAAD,CAAZ,CACApC,OAAO,CAACoE,YAAR,CAAqBnC,YAArB,CAAmCJ,OAAnC,EAA4CwC,IAA5C,CAAiD,UAAM,CACrDZ,oBAAoB,GACrB,CAFD,EAGD,CAND,CAQA,gBAAkC5D,QAAQ,CAAC,IAAD,CAA1C,2CAAOyE,SAAP,gBAAkBC,YAAlB,gBAEA,GAAMC,CAAAA,YAAY,2FAAG,yKACEvE,CAAAA,QAAQ,CAACwE,YAAT,CAAsB5C,OAAtB,CADF,QACb6C,KADa,gBACkCA,KADlC,CAEnB;AACAH,YAAY,CAACG,KAAD,CAAZ,CAHmB,iCAIZA,KAJY,0DAAH,kBAAZF,CAAAA,YAAY,2CAAlB,CAMA,gBAA0B3E,QAAQ,CAAC,IAAD,CAAlC,2CAAO8E,KAAP,gBAAcC,QAAd,gBACA9E,SAAS,CAAC,UAAM,CACZ,GAAGwE,SAAS,EAAE,IAAd,CAAmB,CACjBE,YAAY,GACZK,SAAS,GACV,CAEJ,CANQ,CAMN,CAACP,SAAD,CANM,CAAT,CAQAxE,SAAS,CAAC,UAAI,CACZ0E,YAAY,GACb,CAFQ,CAEP,CAACG,KAAD,CAFO,CAAT,CAIA,GAAMG,CAAAA,YAAY,2FAAG,sKAGF7E,CAAAA,QAAQ,CAAC8E,QAAT,CAAkBlD,OAAlB,CAHE,QAGbmD,EAHa,gBAInB3B,OAAO,CAACC,GAAR,CAAY0B,EAAZ,EACAJ,QAAQ,CAACI,EAAD,CAAR,CACA/E,QAAQ,CAACgF,WAAT,CAAqBpD,OAArB,CAA8ByC,SAA9B,CAAyCU,EAAzC,EAA6CX,IAA7C,CAAkD,UAAM,CACtDZ,oBAAoB,GACpBoB,SAAS,GACTzC,YAAY,CAAC,IAAD,CAAZ,CACD,CAJD,EANmB,wDAAH,kBAAZ0C,CAAAA,YAAY,2CAAlB,CAmBA,GAAMD,CAAAA,SAAS,2FAAG,qJAChBD,QADgB,wBACD3E,CAAAA,QAAQ,CAAC8E,QAAT,CAAkBlD,OAAlB,CADC,2HAAH,kBAATgD,CAAAA,SAAS,2CAAf,CAIA,GAAMK,CAAAA,WAAW,2FAAC,wIAChB;AACA;AACA;AAEAzB,oBAAoB,GACnBzD,OAAO,CAACmF,eAAR,CAAwBtD,OAAxB,EAAiCwC,IAAjC,CAAsC,SAACe,GAAD,CAAO,CAC5C;AACCpF,OAAO,CAACkF,WAAR,CAAoBZ,SAApB,CAA8BzC,OAA9B,CAAsCuD,GAAtC,CAA0CnD,YAAY,CAACoD,eAAb,CAA6BjC,MAAvE,EAA+EiB,IAA/E,CAAoF,UAAI,CACvFjC,YAAY,CAAC,IAAD,CAAZ,CACA,CAFD,EAGD,CALD,EAMD;AAZgB,wDAAD,kBAAX8C,CAAAA,WAAW,2CAAjB,CAiBA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIX,KAAK,GAAK,IAAd,CAAoB,CAClB,mBACE,KAAC,cAAD,EAAgB,SAAS,CAAEjE,KAA3B,uBACE,MAAC,KAAD,EAAO,EAAE,CAAE,CAAE6E,QAAQ,CAAE,GAAZ,CAAX,CAA8B,aAAW,kBAAzC,wBACE,KAAC,SAAD,wBACE,MAAC,QAAD,yBACE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,oBADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,kBAFF,cAGE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,yBAHF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,0BAJF,GADF,EADF,cASE,KAAC,SAAD,WACGZ,KAAK,CAACa,GAAN,CAAU,SAACC,CAAD,qBACT,MAAC,QAAD,yBACE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2BA,CAAC,CAACC,MAA7B,EADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2BD,CAAC,CAAC9D,IAA7B,EAFF,cAGE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2B8D,CAAC,CAACE,WAA7B,EAHF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2BF,CAAC,CAACG,GAA7B,EAJF,GAAeH,CAAC,CAACE,WAAF,CAAgB,KAAhB,CAAwBF,CAAC,CAACC,MAA1B,CAAmC,KAAnC,CAA2CD,CAAC,CAAC9D,IAA5D,CADS,EAAV,CADH,EATF,GADF,EADF,CAuBD,CAED,MAAO,KAAP,CAED,CA7BD,CAkCA,mBACE,aACE,SAAS,CAAC,YADZ,wBAIE,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,SAA/B,mCAJF,cAME,aAAK,SAAS,CAAC,yBAAf,wBACE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAEQ,SAAS,CAAG,SAAH,CAAe,SAJjC,CAKE,OAAO,CAAEoB,mBACX;AANA,UAQGpB,SAAS,CAAG,kBAAH,CAAwB,4BARpC,EADF,cAWE,KAAC,OAAD,IAXF,cAYE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAE,SAJT,CAKE,OAAO,CAAEsB,oBACX;AANA,UAQG,kDARH,EAZF,cAsBE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAE,SAJT,CAKE,OAAO,CAAEyB,WACX;AANA,UAQG,oDARH,EAtBF,cAgCE,KAAC,OAAD,IAhCF,CAkCIjD,YAAY,GAAK,IAAjB,EAAyBA,YAAY,GAAKP,SAA1C,EAAuD4C,SAAS,GAAK,IAArE,cACE,cAAM,MAAM,CAAC,MAAb,CAAoB,SAAS,CAAC,YAA9B,wBAEE,aAAK,SAAS,CAAC,gCAAf,wBACE,KAAC,SACC;AADF,EAEE,KAAK,CAAC,6BAFR,CAGE,IAAI,CAAC,QACL;AAJF,CAKE,IAAI,CAAE,iBALR,CAME,KAAK,CAAErC,YAAY,CAACoD,eAAb,CAA6BjC,MANtC,CAOE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EAPZ,CAQE,SAAS,CAAC,aARZ,CASE,KAAK,CAAC,SATR,CAUE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAVd,CAWE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXnB,EADF,cAcE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,qBACN;AALF,CAME,IAAI,CAAE,gBANR,CAOE,KAAK,CAAE7D,YAAY,CAAC8D,cAAb,CAA4B3C,MAPrC,CAQE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EARZ,CASE,SAAS,CAAC,aATZ,CAUE,KAAK,CAAC,SAVR,CAWE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXd,CAYE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAZnB,EAdF,GAFF,cA+BE,aAAK,SAAS,CAAC,gCAAf,wBACE,KAAC,SACC;AADF,EAEE,KAAK,CAAC,wBAFR,CAGE,IAAI,CAAC,QACL;AAJF,CAKE,IAAI,CAAE,aALR,CAME,KAAK,CAAE7D,YAAY,CAAC+D,WAAb,CAAyB5C,MANlC,CAOE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EAPZ,CAQE,SAAS,CAAC,aARZ,CASE,KAAK,CAAC,SATR,CAUE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAVd,CAWE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXnB,EADF,cAcE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,+BACN;AALF,CAME,IAAI,CAAE,oBANR,CAOE,KAAK,CAAE7D,YAAY,CAACgE,kBAAb,CAAgC7C,MAPzC,CAQE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EARZ,CASE,SAAS,CAAC,aATZ,CAUE,KAAK,CAAC,SAVR,CAWE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXd,CAYE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAZnB,EAdF,GA/BF,cA4DE,aAAK,SAAS,CAAC,gCAAf,wBAEE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,yBACN;AALF,CAME,IAAI,CAAE,gBANR,CAOE,KAAK,CAAE7D,YAAY,CAACiE,cAAb,CAA4B9C,MAPrC,CAQE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EARZ,CASE,SAAS,CAAC,aATZ,CAUE,KAAK,CAAC,SAVR,CAWE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXd,CAYE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAZnB,EAFF,cAgBE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,wBACN;AALF,CAME,IAAI,CAAE,eANR,CAOE,KAAK,CAAE7D,YAAY,CAACkE,aAAb,CAA2B/C,MAPpC,CAQE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EARZ,CASE,SAAS,CAAC,aATZ,CAUE,KAAK,CAAC,SAVR,CAWE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXd,CAYE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAZnB,EAhBF,cA8BE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,gCACN;AALF,CAME,IAAI,CAAE,oBANR,CAOE,KAAK,CAAE7D,YAAY,CAACmE,kBAAb,CAAgChD,MAPzC,CAQE,QAAQ,CAAE,kBAACQ,GAAD,QAASD,CAAAA,YAAY,CAACC,GAAD,CAArB,EARZ,CASE,SAAS,CAAC,aATZ,CAUE,KAAK,CAAC,SAVR,CAWE,UAAU,CAAE,CAAEiC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAXd,CAYE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAZnB,EA9BF,GA5DF,cAyGE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAE,SAJT,CAKE,OAAO,CAAE3B,kBALX,UAOG,yBAPH,EAzGF,cAkHE,KAAC,OAAD,IAlHF,cAqHE,KAAC,OAAD,IArHF,cAsHE,aAAK,SAAS,CAAC,gCAAf,wBACE,KAAC,SACC;AADF,EAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAC,qBACN;AALF,CAME,IAAI,CAAE,WANR,CAOE,KAAK,CAAEG,SAPT,CAQE,QAAQ,CAAE,kBAAAV,GAAG,CAAG,CACd,GAAIK,QAAQ,CAACL,GAAG,CAACE,MAAJ,CAAWE,KAAZ,CAAR,EAA4B,CAAhC,CAAmCO,YAAY,CAACN,QAAQ,CAACL,GAAG,CAACE,MAAJ,CAAWE,KAAZ,CAAT,CAAZ,CACpC,CAVH,CAWE,SAAS,CAAC,aAXZ,CAYE,KAAK,CAAC,SAZR,CAaE,UAAU,CAAE,CAAE6B,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAbd,CAcE,eAAe,CAAE,CAAED,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAT,CAdnB,EADF,cAiBE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,QAAQ,CAAEnB,KAAK,EAAI,IAFrB,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAE,SAJT,CAKE,OAAO,CAAEG,YALX,UAOG,0BAPH,EAjBF,GAtHF,GADF,CAmJI,IArLR,cAyLE,qBACGQ,WAAW,EADd,EAzLF,GANF,GADF,CA0MD,CAvZD,CAyZA,cAAerE,CAAAA,cAAf","sourcesContent":["import \"../styles/AdminInterface.css\"\r\nimport \"../styles/App.css\"\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport PlayAPI from \"../API/PlayAPI\"\r\nimport UsersAPI from \"../API/UsersAPI\"\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TextField, Button, Divider, Typography, TableContainer, TableHead, TableRow, Paper, TableBody, Table, TableCell } from \"@material-ui/core\"\r\nimport io from 'socket.io-client'\r\n\r\nimport cookie from 'react-cookies'\r\nimport { config } from \"react-transition-group\";\r\n\r\nconst AdminInterface = () => {\r\n  // console.log(\"admin\")\r\n  const history = useHistory()\r\n\r\n\r\n  const user = cookie.load(\"user\")\r\n  // console.log(user)\r\n  const handleDisconnect = () => {\r\n    // console.log(\"handleDisconnect\")\r\n    cookie.save('user', \"disconnected\", {\r\n      path: '/',\r\n      maxAge: 60 * 60 * 1.5, //sec\r\n    })\r\n    history.push('/login');\r\n  }\r\n\r\n\r\n  if (user === null || user === undefined || user == \"disconnected\") history.push(\"/login\");\r\n  if (user !== null && user !== undefined && user.role !== undefined && !user.role.includes(\"ADMIN\")) handleDisconnect()\r\n\r\n  const [session, setSession] = useState(user !== null && user !== undefined ? user.session : null)\r\n\r\n  const [configuration, setConfiguration] = useState(null)\r\n  const [manualConfig, setManualConfig] = useState(null)\r\n\r\n  const [lancement, setLancement] = useState(true)\r\n  const isLoading = useRef(false)\r\n\r\n  const [socket, setSocket] = useState(null)\r\n  useEffect(() => {\r\n    if (socket == null && configuration !== null) {\r\n      const s = io.connect(\"https://www.back.leaders-extreme.fr\")\r\n      setSocket(s)\r\n      s.on('startStopPartie', (data) => {\r\n        setLancement(!data.start)\r\n        // console.log(!data.start)\r\n      });\r\n    }\r\n  })\r\n\r\n  const getPlayParameters = async () => {\r\n    if (configuration === null) {\r\n      setConfiguration(await PlayAPI.getConfiguration(session))\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getPlayState(session)\r\n    setManualConfig(configuration)\r\n  }, [configuration])\r\n\r\n  const getPlayState = async (session) => {\r\n\r\n    if (!isLoading.current && configuration != null) {\r\n\r\n      isLoading.current = true\r\n      const currentPlayState = await PlayAPI.getPlayState(session, null)\r\n      if (currentPlayState !== undefined) {\r\n        setLancement(!JSON.parse(currentPlayState.valeur))\r\n      } else {\r\n        console.log(\"error\")\r\n      }\r\n      // getPositionFromCarte(JSON.parse(currentPlayState.carte.valeur))\r\n      isLoading.current = false\r\n    } else {\r\n      // console.log(configuration)\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getPlayParameters()\r\n  })\r\n\r\n\r\n  const handleClicLancement = async () => {\r\n    await PlayAPI.startStopPartie(socket, session, lancement)\r\n  }\r\n\r\n  const handleClicDisconnect = async () => {\r\n    // console.log(\"handleClic disc\")\r\n    setLancement(true)\r\n    PlayAPI.disconnectUsers(socket, session)\r\n  }\r\n\r\n  const configChange = (evt) => {\r\n    const name = evt.target.name\r\n    const val = evt.target.value\r\n\r\n    if(parseInt(val)>=0){\r\n      var c = { ...manualConfig }\r\n      c[name].valeur = parseInt(val)\r\n      setManualConfig(c)\r\n    }\r\n\r\n    \r\n    // console.log(name,val)\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   console.log(manualConfig)\r\n  // }, [manualConfig])\r\n\r\n  const handleConfigChange = () => {\r\n    console.log(\"départ\")\r\n    setLancement(true)\r\n    PlayAPI.updateConfig(manualConfig, session).then(() => {\r\n      handleClicDisconnect()\r\n    })\r\n  }\r\n\r\n  const [nbEquipes, setNbEquipes] = useState(null)\r\n\r\n  const countEquipes = async () => {\r\n    const count = (await UsersAPI.getNbEquipes(session)).count\r\n    // console.log(count)\r\n    setNbEquipes(count)\r\n    return count\r\n  }\r\n  const [users, setUsers] = useState(null)\r\n  useEffect(() => {\r\n      if(nbEquipes==null){\r\n        countEquipes()\r\n        getIdents()\r\n      }\r\n      \r\n  }, [nbEquipes])\r\n\r\n  useEffect(()=>{\r\n    countEquipes()\r\n  },[users])\r\n\r\n  const createIdents = async () => {\r\n    // console.log(users)\r\n    \r\n    const us = await UsersAPI.getUsers(session)\r\n    console.log(us)\r\n    setUsers(us)\r\n    UsersAPI.createUsers(session, nbEquipes, us).then(() => {\r\n      handleClicDisconnect()\r\n      getIdents()\r\n      setLancement(true)\r\n    }\r\n    )\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  const getIdents = async () => {\r\n    setUsers(await UsersAPI.getUsers(session))\r\n  }\r\n\r\n  const resetPartie=async()=>{\r\n    // const count = countEquipes()\r\n    // console.log(count)\r\n    // const etats =await  PlayAPI.getGeneralStats(session)\r\n\r\n    handleClicDisconnect()\r\n     PlayAPI.getGeneralStats(session).then((res)=>{\r\n      //  console.log(res)\r\n       PlayAPI.resetPartie(nbEquipes,session,res,manualConfig.chronoTourInter.valeur).then(()=>{\r\n        setLancement(true)\r\n       })\r\n     })\r\n    // PlayAPI.resetPartie(nbEquipes,session)\r\n\r\n  }\r\n\r\n\r\n  const renderUsers = () => {\r\n    if (users !== null) {\r\n      return (\r\n        <TableContainer component={Paper}>\r\n          <Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align=\"center\">Equipe</TableCell>\r\n                <TableCell align=\"center\">Role</TableCell>\r\n                <TableCell align=\"center\">Identifiant</TableCell>\r\n                <TableCell align=\"center\">Mot de passe</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {users.map((u) => (\r\n                <TableRow key={u.identifiant + \" : \" + u.equipe + \" : \" + u.role}>\r\n                  <TableCell align=\"center\">{u.equipe}</TableCell>\r\n                  <TableCell align=\"center\">{u.role}</TableCell>\r\n                  <TableCell align=\"center\">{u.identifiant}</TableCell>\r\n                  <TableCell align=\"center\">{u.mdp}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>)\r\n    }\r\n\r\n    return null\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div\r\n      className=\"body-admin\"\r\n    >\r\n\r\n      <Typography variant=\"h1\" color=\"primary\">Espace administrateur</Typography>\r\n\r\n      <div className=\"admin-buttons-container\">\r\n        <Button\r\n          variant=\"contained\"\r\n\r\n          className=\"admin-button\"\r\n          color={lancement ? \"default\" : \"primary\"}\r\n          onClick={handleClicLancement}\r\n        // disabled={lancement}\r\n        >\r\n          {lancement ? \"Lancer la partie\" : \"Mettre la partie sur pause\"}\r\n        </Button>\r\n        <Divider />\r\n        <Button\r\n          variant=\"contained\"\r\n\r\n          className=\"admin-button\"\r\n          color={\"primary\"}\r\n          onClick={handleClicDisconnect}\r\n        // disabled={lancement}\r\n        >\r\n          {\"Déconnecter les utilisateurs et mettre sur pause\"}\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n\r\n          className=\"admin-button\"\r\n          color={\"primary\"}\r\n          onClick={resetPartie}\r\n        // disabled={lancement}\r\n        >\r\n          {\"Déconnecter les utilisateurs et Relancer la partie\"}\r\n        </Button>\r\n        <Divider />\r\n        {\r\n          manualConfig !== null && manualConfig !== undefined && nbEquipes !== null ?\r\n            <form method=\"post\" className=\"login-form\" >\r\n\r\n              <div className=\"admin-buttons-config-container\">\r\n                <TextField\r\n                  // required\r\n                  label=\"Chrono Intermédiaire (s)\"\r\n                  type=\"number\"\r\n                  // variant=\"outlined\"\r\n                  name={\"chronoTourInter\"}\r\n                  value={manualConfig.chronoTourInter.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Chrono Tactique (s)\"\r\n                  // variant=\"outlined\"\r\n                  name={\"chronoTourTact\"}\r\n                  value={manualConfig.chronoTourTact.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n              </div>\r\n              <div className=\"admin-buttons-config-container\">\r\n                <TextField\r\n                  // required\r\n                  label=\"Nombre de séquences\"\r\n                  type=\"number\"\r\n                  // variant=\"outlined\"\r\n                  name={\"nbSequences\"}\r\n                  value={manualConfig.nbSequences.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Budget cycle intermédiaire\"\r\n                  // variant=\"outlined\"\r\n                  name={\"budgetDefaultInter\"}\r\n                  value={manualConfig.budgetDefaultInter.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n              </div>\r\n              <div className=\"admin-buttons-config-container\">\r\n\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Nombre de marqueurs max\"\r\n                  // variant=\"outlined\"\r\n                  name={\"nbMarqueursMax\"}\r\n                  value={manualConfig.nbMarqueursMax.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Nombre de victimes max\"\r\n                  // variant=\"outlined\"\r\n                  name={\"nbVictimesMax\"}\r\n                  value={manualConfig.nbVictimesMax.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Nombre d'habitants à sauver\"\r\n                  // variant=\"outlined\"\r\n                  name={\"nbHabitantsASauver\"}\r\n                  value={manualConfig.nbHabitantsASauver.valeur}\r\n                  onChange={(evt) => configChange(evt)}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n              </div>\r\n              <Button\r\n                variant=\"contained\"\r\n\r\n                className=\"admin-button\"\r\n                color={\"primary\"}\r\n                onClick={handleConfigChange}\r\n              >\r\n                {\"Modifier les paramètres\"}\r\n              </Button>\r\n              <Divider />\r\n\r\n\r\n              <Divider />\r\n              <div className=\"admin-buttons-config-container\">\r\n                <TextField\r\n                  // required\r\n\r\n                  type=\"number\"\r\n                  label=\"Nombre d'équipes\"\r\n                  // variant=\"outlined\"\r\n                  name={\"nbEquipes\"}\r\n                  value={nbEquipes}\r\n                  onChange={evt =>{ \r\n                    if (parseInt(evt.target.value)>=0) setNbEquipes(parseInt(evt.target.value))\r\n                  }}\r\n                  className=\"login-field\"\r\n                  color=\"primary\"\r\n                  inputProps={{ style: { fontSize: 25 } }}\r\n                  InputLabelProps={{ style: { fontSize: 20 } }}\r\n                />\r\n                <Button\r\n                  variant=\"contained\"\r\n                  disabled={users == null}\r\n                  className=\"admin-button\"\r\n                  color={\"primary\"}\r\n                  onClick={createIdents}\r\n                >\r\n                  {\"Générer les identifiants\"}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n            : null\r\n        }\r\n\r\n\r\n        <div>\r\n          {renderUsers()}\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminInterface;\r\n\r\n"]},"metadata":{},"sourceType":"module"}