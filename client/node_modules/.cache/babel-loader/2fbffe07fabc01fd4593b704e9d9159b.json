{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var urlBack=\"https://www.back.leaders-extreme.fr\";export default{disconnectUsers:function(){var _disconnectUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(socket,session){var requestOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"disconnect users\");requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session,start:false})};fetch(urlBack+\"/startStopPartie\",requestOptions).then(function(){socket.emit('disconnectUsers',{start:false});});case 3:case\"end\":return _context.stop();}}},_callee);}));function disconnectUsers(_x,_x2){return _disconnectUsers.apply(this,arguments);}return disconnectUsers;}(),startStopPartie:function(){var _startStopPartie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(socket,session,start){var requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"start/stop partie\");requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session,start:start})};fetch(urlBack+\"/startStopPartie\",requestOptions)// .then((response) => {\n//     console.log(\"test\")\n//     return response.json();\n// })\n.then(function(){socket.emit('startStopPartie',{start:start});});case 3:case\"end\":return _context2.stop();}}},_callee2);}));function startStopPartie(_x3,_x4,_x5){return _startStopPartie.apply(this,arguments);}return startStopPartie;}(),nouveauTour:function(){var _nouveauTour=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(socket,currentPomp,carte,mursH,mursV,currentSequence,currentCycle,currentTour,resultatsDecedes,resultatsSauves,session,equipe,chrono){var requestOptions;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// console.log(\"nouveau tour\")\nrequestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({carte:carte,mursH:mursH,mursV:mursV,currentPomp:currentPomp,currentSequence:currentSequence,currentCycle:currentCycle,currentTour:currentTour,resultatsDecedes:resultatsDecedes,resultatsSauves:resultatsSauves,session:session,equipe:equipe,currrentChrono:chrono})};fetch(urlBack+\"/nouveauTour\",requestOptions)// .then((response) => {\n//     console.log(\"test\")\n//     return response.json();\n// })\n.then(function(){socket.emit('changementTour',JSON.stringify({currentSequence:currentSequence,currentPomp:currentPomp,currentTour:currentTour,currentCycle:currentCycle,equipe:equipe,session:session}));// console.log(\"changement tour\")\n});case 2:case\"end\":return _context3.stop();}}},_callee3);}));function nouveauTour(_x6,_x7,_x8,_x9,_x10,_x11,_x12,_x13,_x14,_x15,_x16,_x17,_x18){return _nouveauTour.apply(this,arguments);}return nouveauTour;}(),// getSocket: () => {\n//     return socket\n// },\ngetConfiguration:function(){var _getConfiguration=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(session){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session})};_context4.next=3;return fetch(urlBack+\"/configuration\",requestOptions);case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:return _context4.abrupt(\"return\",_context4.sent);case 7:case\"end\":return _context4.stop();}}},_callee4);}));function getConfiguration(_x19){return _getConfiguration.apply(this,arguments);}return getConfiguration;}(),getPlayState:function(){var _getPlayState=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(session,equipe){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session,equipe:equipe})};_context5.next=3;return fetch(urlBack+\"/playstate\",requestOptions);case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:return _context5.abrupt(\"return\",_context5.sent);case 7:case\"end\":return _context5.stop();}}},_callee5);}));function getPlayState(_x20,_x21){return _getPlayState.apply(this,arguments);}return getPlayState;}(),revealHabitant:function(){var _revealHabitant=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(socket,position,type){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:// console.log(position[0])\nsocket.emit('revealHabitant',{y:parseInt(position[0]),x:parseInt(position[1]),type:parseInt(type)});console.log(\"socket emit\");case 2:case\"end\":return _context6.stop();}}},_callee6);}));function revealHabitant(_x22,_x23,_x24){return _revealHabitant.apply(this,arguments);}return revealHabitant;}(),saveBudgetsPompInit:function(){var _saveBudgetsPompInit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(cycles,session,equipe){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({cycles:cycles,session:session,equipe:equipe})};_context7.next=3;return fetch(urlBack+\"/saveBudgetsPompInit\",requestOptions);case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:return _context7.abrupt(\"return\",_context7.sent);case 7:case\"end\":return _context7.stop();}}},_callee7);}));function saveBudgetsPompInit(_x25,_x26,_x27){return _saveBudgetsPompInit.apply(this,arguments);}return saveBudgetsPompInit;}(),saveBudgetsPompFin:function(){var _saveBudgetsPompFin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(budgetsFin,session,equipe){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({budgetsFin:budgetsFin,session:session,equipe:equipe})};// console.log(\"budgets fin\")\n_context8.next=3;return fetch(urlBack+\"/saveBudgetsPompFin\",requestOptions);case 3:response=_context8.sent;return _context8.abrupt(\"return\",response);case 5:case\"end\":return _context8.stop();}}},_callee8);}));function saveBudgetsPompFin(_x28,_x29,_x30){return _saveBudgetsPompFin.apply(this,arguments);}return saveBudgetsPompFin;}(),getBudgetsPompInit:function(){var _getBudgetsPompInit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(session,equipe,numPompier,currentCycle,currentSequence){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session,equipe:equipe,numPompier:numPompier,cycle:currentCycle,sequence:currentSequence})};_context9.next=3;return fetch(urlBack+\"/getBudgetsPompInit\",requestOptions);case 3:response=_context9.sent;_context9.next=6;return response.json();case 6:return _context9.abrupt(\"return\",_context9.sent);case 7:case\"end\":return _context9.stop();}}},_callee9);}));function getBudgetsPompInit(_x31,_x32,_x33,_x34,_x35){return _getBudgetsPompInit.apply(this,arguments);}return getBudgetsPompInit;}(),getBudgetsPompFin:function(){var _getBudgetsPompFin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(session,equipe){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session,equipe:equipe})};_context10.next=3;return fetch(urlBack+\"/getBudgetsPompFin\",requestOptions);case 3:response=_context10.sent;_context10.next=6;return response.json();case 6:return _context10.abrupt(\"return\",_context10.sent);case 7:case\"end\":return _context10.stop();}}},_callee10);}));function getBudgetsPompFin(_x36,_x37){return _getBudgetsPompFin.apply(this,arguments);}return getBudgetsPompFin;}(),updateCurrentChrono:function(){var _updateCurrentChrono=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(chrono,session,equipe){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chrono:chrono,session:session,equipe:equipe})};_context11.next=3;return fetch(urlBack+\"/updateChrono\",requestOptions);case 3:response=_context11.sent;_context11.next=6;return response.json();case 6:return _context11.abrupt(\"return\",_context11.sent);case 7:case\"end\":return _context11.stop();}}},_callee11);}));function updateCurrentChrono(_x38,_x39,_x40){return _updateCurrentChrono.apply(this,arguments);}return updateCurrentChrono;}(),updateConfig:function(){var _updateConfig=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(manualConfig,session){var requestOptions;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({manualConfig:manualConfig,session:session})};return _context12.abrupt(\"return\",fetch(urlBack+\"/updateConfig\",requestOptions));case 2:case\"end\":return _context12.stop();}}},_callee12);}));function updateConfig(_x41,_x42){return _updateConfig.apply(this,arguments);}return updateConfig;}(),resetPartie:function(){var _resetPartie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(nbEquipes,session,etats,chronoInit){var requestOptions;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({// count: count,\nnbEquipes:nbEquipes,session:session,etats:etats,chronoInit:chronoInit})};return _context13.abrupt(\"return\",fetch(urlBack+\"/resetPartie\",requestOptions));case 2:case\"end\":return _context13.stop();}}},_callee13);}));function resetPartie(_x43,_x44,_x45,_x46){return _resetPartie.apply(this,arguments);}return resetPartie;}(),getGeneralStats:function(){var _getGeneralStats=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(session){var requestOptions,response;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session:session})};_context14.next=3;return fetch(urlBack+\"/getGeneralStats\",requestOptions);case 3:response=_context14.sent;_context14.next=6;return response.json();case 6:return _context14.abrupt(\"return\",_context14.sent);case 7:case\"end\":return _context14.stop();}}},_callee14);}));function getGeneralStats(_x47){return _getGeneralStats.apply(this,arguments);}return getGeneralStats;}()};","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/API/PlayAPI.js"],"names":["urlBack","disconnectUsers","socket","session","console","log","requestOptions","method","headers","body","JSON","stringify","start","fetch","then","emit","startStopPartie","nouveauTour","currentPomp","carte","mursH","mursV","currentSequence","currentCycle","currentTour","resultatsDecedes","resultatsSauves","equipe","chrono","currrentChrono","getConfiguration","response","json","getPlayState","revealHabitant","position","type","y","parseInt","x","saveBudgetsPompInit","cycles","saveBudgetsPompFin","budgetsFin","getBudgetsPompInit","numPompier","cycle","sequence","getBudgetsPompFin","updateCurrentChrono","updateConfig","manualConfig","resetPartie","nbEquipes","etats","chronoInit","getGeneralStats"],"mappings":"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","sourcesContent":["\n\n\n\nconst urlBack = \"https://www.back.leaders-extreme.fr\";\n\n\nexport default {\n    disconnectUsers:async(socket,session)=>{\n        console.log(\"disconnect users\")\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                session:session,\n                start:false\n            })\n        };\n\n\n        fetch(urlBack + \"/startStopPartie\", requestOptions)\n            .then(() => {\n                socket.emit(\n                    'disconnectUsers',\n                    {\n                        start: false,\n                    }\n                )\n            })\n    },\n    startStopPartie: async (socket,session,start) => {\n        console.log(\"start/stop partie\")\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                session:session,\n                start:start\n            })\n        };\n\n\n        fetch(urlBack + \"/startStopPartie\", requestOptions)\n            // .then((response) => {\n            //     console.log(\"test\")\n            //     return response.json();\n            // })\n            .then(() => {\n                socket.emit(\n                    'startStopPartie',\n                    {\n                        start: start,\n                    }\n                )\n            })\n\n    },\n    nouveauTour: async (socket,currentPomp, carte, mursH, mursV, currentSequence, currentCycle, currentTour, resultatsDecedes, resultatsSauves, session, equipe, chrono) => {\n        // console.log(\"nouveau tour\")\n        \n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                carte: carte,\n                mursH: mursH,\n                mursV: mursV,\n                currentPomp: currentPomp,\n                currentSequence: currentSequence,\n                currentCycle: currentCycle,\n                currentTour: currentTour,\n                resultatsDecedes: resultatsDecedes,\n                resultatsSauves: resultatsSauves,\n                session: session,\n                equipe: equipe,\n                currrentChrono: chrono\n            })\n        };\n\n\n        fetch(urlBack + \"/nouveauTour\", requestOptions)\n            // .then((response) => {\n            //     console.log(\"test\")\n            //     return response.json();\n            // })\n            .then(() => {\n                socket.emit(\n                    'changementTour',\n                    JSON.stringify({\n                        currentSequence: (currentSequence),\n                        currentPomp: (currentPomp),\n                        currentTour: (currentTour),\n                        currentCycle: (currentCycle),\n                        equipe:equipe,\n                        session:session\n                    })\n                )\n                // console.log(\"changement tour\")\n            })\n\n    },\n    // getSocket: () => {\n    //     return socket\n    // },\n    getConfiguration: async (session) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ session: session })\n        };\n        const response = await fetch(urlBack + \"/configuration\", requestOptions)\n        return await response.json()\n    },\n    getPlayState: async (session, equipe) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                session: session,\n                equipe: equipe\n            })\n        };\n        const response = await fetch(urlBack + \"/playstate\", requestOptions)\n        return await response.json()\n    },\n    revealHabitant: async (socket,position, type) => {\n        // console.log(position[0])\n        socket.emit(\n            'revealHabitant',\n            {\n                y: parseInt(position[0]),\n                x: parseInt(position[1]),\n                type: parseInt(type)\n            }\n        )\n        console.log(\"socket emit\")\n    },\n    saveBudgetsPompInit: async (cycles, session, equipe) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                cycles: cycles,\n                session: session,\n                equipe: equipe\n            })\n        };\n\n        const response = await fetch(urlBack + \"/saveBudgetsPompInit\", requestOptions)\n\n\n        return await response.json()\n    },\n    saveBudgetsPompFin: async (budgetsFin, session, equipe) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                budgetsFin: budgetsFin,\n                session: session,\n                equipe: equipe\n            })\n        };\n        // console.log(\"budgets fin\")\n\n        const response = await fetch(urlBack + \"/saveBudgetsPompFin\", requestOptions)\n        // console.log(\"save budgets fin\")\n        return response\n    },\n    getBudgetsPompInit: async (session, equipe, numPompier, currentCycle, currentSequence) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                session: session,\n                equipe: equipe,\n                numPompier: numPompier,\n                cycle: currentCycle,\n                sequence: currentSequence\n            })\n        };\n\n        const response = await fetch(urlBack + \"/getBudgetsPompInit\", requestOptions)\n\n\n        return await response.json()\n    },\n    getBudgetsPompFin: async (session, equipe) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                session: session,\n                equipe: equipe\n            })\n        };\n\n        const response = await fetch(urlBack + \"/getBudgetsPompFin\", requestOptions)\n\n\n        return await response.json()\n    },\n    updateCurrentChrono: async (chrono, session, equipe) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                chrono: chrono,\n                session: session,\n                equipe: equipe\n            })\n        };\n\n        const response = await fetch(urlBack + \"/updateChrono\", requestOptions)\n\n        return await response.json()\n    },\n    updateConfig:async(manualConfig,session)=>{\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                manualConfig: manualConfig,\n                session: session\n            })\n        };\n\n        return fetch(urlBack + \"/updateConfig\", requestOptions)\n    },\n    resetPartie:async(nbEquipes,session,etats,chronoInit)=>{\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                // count: count,\n                nbEquipes:nbEquipes,\n                session: session,\n                etats:etats,\n                chronoInit:chronoInit\n            })\n        };\n\n        return fetch(urlBack + \"/resetPartie\", requestOptions)\n    },\n    getGeneralStats:async(session)=>{\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body:  JSON.stringify({\n                session: session\n            })\n        };\n\n        const response = await  fetch(urlBack+\"/getGeneralStats\", requestOptions)\n\n        return  await response.json()\n    }\n\n};\n"]},"metadata":{},"sourceType":"module"}