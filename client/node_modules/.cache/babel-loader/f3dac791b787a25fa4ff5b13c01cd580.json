{"ast":null,"code":"import _slicedToArray from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import ToggleButton from'@material-ui/lab/ToggleButton';import\"../../../styles/TactBandeauBottom.css\";import Bulle from'./Bulle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BoutonAction=function BoutonAction(_ref){var action=_ref.action,nbIntervention=_ref.nbIntervention,nbStock=_ref.nbStock,sourceImage=_ref.sourceImage,handleClicAction=_ref.handleClicAction,selected=_ref.selected,num=_ref.num,disabled=_ref.disabled,texteBulle=_ref.texteBulle,coutInter=_ref.coutInter,coutEq=_ref.coutEq;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),bulleOpen=_useState2[0],setBulleOpen=_useState2[1];var timerOver;var handleOpen=function handleOpen(){// console.log(selected,num)\n// if(!selected){\nsetBulleOpen(true);// }\n// console.log(\"open\")\n};var handleClose=function handleClose(){setBulleOpen(false);clearTimeout(timerOver);// console.log(\"close\")\n};var handleOver=function handleOver(delay){// console.log(selected)\ntimerOver=setTimeout(function(){handleOpen();},delay);};return/*#__PURE__*/_jsxs(\"div\",{onMouseEnter:function onMouseEnter(){handleOver(bulleOpen===null?3000:4000);},onMouseLeave:function onMouseLeave(){clearTimeout(timerOver);},children:[/*#__PURE__*/_jsxs(ToggleButton,{disabled:disabled||nbIntervention<=0||nbStock<=0,selected:selected&&![4,5].includes(num),className:\"bouton-action\",variant:\"contained\",value:num,onClick:function onClick(){clearTimeout(timerOver);handleClicAction(num);},children:[/*#__PURE__*/_jsx(\"label\",{className:\"title-action\",children:action+\"\\n\"}),/*#__PURE__*/_jsx(\"img\",{src:sourceImage,alt:\"image\"}),nbIntervention>1?/*#__PURE__*/_jsx(\"label\",{className:\"count-action\",children:nbIntervention+\" interventions\"}):/*#__PURE__*/_jsx(\"label\",{className:\"count-action\",children:nbIntervention+\" intervention\"})]}),/*#__PURE__*/_jsx(Bulle,{open:bulleOpen,handleClose:handleClose,texte:texteBulle,sourceImage:sourceImage,action:action,coutInter:coutInter,coutEq:coutEq})]});};export default BoutonAction;","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/components/interfaceJoueur/panels/BoutonAction.js"],"names":["React","useState","useEffect","useRef","ToggleButton","Bulle","BoutonAction","action","nbIntervention","nbStock","sourceImage","handleClicAction","selected","num","disabled","texteBulle","coutInter","coutEq","bulleOpen","setBulleOpen","timerOver","handleOpen","handleClose","clearTimeout","handleOver","delay","setTimeout","includes"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAoCC,MAApC,KAAkD,OAAlD,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,MAAO,uCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAYf,IAXFC,CAAAA,MAWE,MAXFA,MAWE,CAVFC,cAUE,MAVFA,cAUE,CATFC,OASE,MATFA,OASE,CARFC,WAQE,MARFA,WAQE,CAPFC,gBAOE,MAPFA,gBAOE,CANFC,QAME,MANFA,QAME,CALFC,GAKE,MALFA,GAKE,CAJFC,QAIE,MAJFA,QAIE,CAHFC,UAGE,MAHFA,UAGE,CAFFC,SAEE,MAFFA,SAEE,CADFC,MACE,MADFA,MACE,CAEF,cAA+BhB,QAAQ,CAAC,IAAD,CAAvC,wCAAOiB,SAAP,eAAiBC,YAAjB,eACA,GAAIC,CAAAA,SAAJ,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB;AAEA;AACIF,YAAY,CAAC,IAAD,CAAZ,CACJ;AACA;AACH,CAPD,CASA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBH,YAAY,CAAC,KAAD,CAAZ,CACAI,YAAY,CAACH,SAAD,CAAZ,CACA;AACH,CAJD,CAOA,GAAMI,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACC,KAAD,CAAS,CACtB;AACAL,SAAS,CAACM,UAAU,CAAC,UAAM,CACvBL,UAAU,GACb,CAFmB,CAEjBI,KAFiB,CAApB,CAGH,CALD,CAUA,mBACI,aACA,YAAY,CAAE,uBAAM,CAChBD,UAAU,CAACN,SAAS,GAAG,IAAZ,CAAmB,IAAnB,CAA0B,IAA3B,CAAV,CACH,CAHD,CAIA,YAAY,CAAE,uBAAM,CAChBK,YAAY,CAACH,SAAD,CAAZ,CACH,CAND,wBAQI,MAAC,YAAD,EACI,QAAQ,CAAEN,QAAQ,EAAIN,cAAc,EAAI,CAA9B,EAAmCC,OAAO,EAAI,CAD5D,CAEI,QAAQ,CAAEG,QAAQ,EAAI,CAAC,CAAC,CAAD,CAAI,CAAJ,EAAOe,QAAP,CAAgBd,GAAhB,CAF3B,CAGI,SAAS,CAAC,eAHd,CAII,OAAO,CAAC,WAJZ,CAKI,KAAK,CAAEA,GALX,CAMI,OAAO,CAAE,kBAAM,CACXU,YAAY,CAACH,SAAD,CAAZ,CACAT,gBAAgB,CAACE,GAAD,CAAhB,CACH,CATL,wBAiBI,cAAO,SAAS,CAAC,cAAjB,UAAiCN,MAAM,CAAG,IAA1C,EAjBJ,cAkBI,YAAK,GAAG,CAAEG,WAAV,CAAuB,GAAG,CAAE,OAA5B,EAlBJ,CAmBKF,cAAc,CAAG,CAAjB,cACG,cAAO,SAAS,CAAC,cAAjB,UAAiCA,cAAc,CAAG,gBAAlD,EADH,cAKG,cAAO,SAAS,CAAC,cAAjB,UAAiCA,cAAc,CAAG,eAAlD,EAxBR,GARJ,cAsCI,KAAC,KAAD,EACI,IAAI,CAAEU,SADV,CAEI,WAAW,CAAEI,WAFjB,CAGI,KAAK,CAAEP,UAHX,CAII,WAAW,CAAEL,WAJjB,CAKI,MAAM,CAAEH,MALZ,CAMI,SAAS,CAAES,SANf,CAOI,MAAM,CAAEC,MAPZ,EAtCJ,GADJ,CAkDH,CA5FD,CA8FA,cAAeX,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect,useRef } from 'react'\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport \"../../../styles/TactBandeauBottom.css\"\nimport Bulle from './Bulle';\n\nconst BoutonAction = ({\n    action,\n    nbIntervention,\n    nbStock,\n    sourceImage,\n    handleClicAction,\n    selected,\n    num,\n    disabled,\n    texteBulle,\n    coutInter,\n    coutEq\n}) => {\n    \n    const [bulleOpen,setBulleOpen]=useState(null)\n    let timerOver\n    const handleOpen = () => {\n        // console.log(selected,num)\n\n        // if(!selected){\n            setBulleOpen(true)\n        // }\n        // console.log(\"open\")\n    };\n\n    const handleClose = () => {\n        setBulleOpen(false)\n        clearTimeout(timerOver)\n        // console.log(\"close\")\n    };\n\n    \n    const handleOver=(delay)=>{\n        // console.log(selected)\n        timerOver=setTimeout(() => {\n            handleOpen()\n        }, delay);\n    }\n\n\n\n\n    return (\n        <div\n        onMouseEnter={() => {\n            handleOver(bulleOpen===null ? 3000 : 4000)\n        }}\n        onMouseLeave={() => {\n            clearTimeout(timerOver)\n        }}\n        >\n            <ToggleButton\n                disabled={disabled || nbIntervention <= 0 || nbStock <= 0}\n                selected={selected && ![4, 5].includes(num)}\n                className=\"bouton-action\"\n                variant='contained'\n                value={num}\n                onClick={() => {\n                    clearTimeout(timerOver)\n                    handleClicAction(num)\n                }}\n               \n\n            >\n                {/* <div> */}\n\n\n\n                <label className=\"title-action\">{action + \"\\n\"}</label>\n                <img src={sourceImage} alt={\"image\"} />\n                {nbIntervention > 1 ?\n                    <label className=\"count-action\">{nbIntervention + \" interventions\"}</label>\n\n                    :\n\n                    <label className=\"count-action\">{nbIntervention + \" intervention\"}</label>\n                }\n                {/* </div> */}\n\n            </ToggleButton>\n\n            <Bulle\n                open={bulleOpen}\n                handleClose={handleClose}\n                texte={texteBulle}\n                sourceImage={sourceImage}\n                action={action}\n                coutInter={coutInter}\n                coutEq={coutEq}\n            />\n        </div>\n    );\n}\n\nexport default BoutonAction;"]},"metadata":{},"sourceType":"module"}