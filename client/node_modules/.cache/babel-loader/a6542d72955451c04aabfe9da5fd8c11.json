{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/hugod/decitude/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import\"../../styles/TactBandeauBottom.css\";import BoutonAction from\"./panels/BoutonAction\";import ForwardIcon from'@material-ui/icons/Forward';import IconButton from'@material-ui/core/IconButton';import Button from'@material-ui/core/Button';import{CSSTransitionGroup}from\"react-transition-group\";import ContentsAPI from\"../../API/ContentsAPI\";import Bulle from'./panels/Bulle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TactBandeauBottom=function TactBandeauBottom(_ref){var interventions=_ref.interventions,stocks=_ref.stocks,numeroPompier=_ref.numeroPompier,handleClicFleche=_ref.handleClicFleche,handleClicValidated=_ref.handleClicValidated,handleClicDoor=_ref.handleClicDoor,handleClicMarqueur=_ref.handleClicMarqueur,handleClicExt=_ref.handleClicExt,handleNoClicked=_ref.handleNoClicked,handleClicHabitant=_ref.handleClicHabitant,btnClickedBottom=_ref.btnClickedBottom,mursAutour=_ref.mursAutour,casesAutour=_ref.casesAutour,currentCase=_ref.currentCase,histActions=_ref.histActions,configuration=_ref.configuration,pomp=_ref.pomp,deplacementEnCours=_ref.deplacementEnCours,budgetMaxAtteint=_ref.budgetMaxAtteint,isLoading=_ref.isLoading;// console.log(histActions)\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),textes=_useState2[0],setTextes=_useState2[1];var mursInterdits=[1,2,3,5];// console.log(casesAutour)\nuseEffect(function(){var getTextes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var textes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:textes=ContentsAPI.getTexts(\"jeuTactBandeauBottom\").then(function(res){setTextes(res);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function getTextes(){return _ref2.apply(this,arguments);};}();if(textes==null){getTextes();}},[textes]);var handleClicAction=function handleClicAction(num){if(num==null){handleNoClicked();}else{if(num==4||num==5)handleClicDoor(num==4);if(num==3)handleClicMarqueur();if(num<3)handleClicExt(num);if(num==6)handleClicHabitant();}};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),bulleOpenFleches=_useState4[0],setBulleOpenFleches=_useState4[1];var renderFleches=function renderFleches(){var timerOverFleches;var handleOpenFleches=function handleOpenFleches(){setBulleOpenFleches(true);};var handleCloseFleches=function handleCloseFleches(){setBulleOpenFleches(false);clearTimeout(timerOverFleches);};var handleOverFleches=function handleOverFleches(delay){timerOverFleches=setTimeout(function(){handleOpenFleches();},delay);};var disabled=interventions.Deplacement<=0||budgetMaxAtteint||isLoading||numeroPompier!=pomp;var color=\"#4A4848\";var colorDisabled=\"#BFBFBF\";if(configuration!==null){return/*#__PURE__*/_jsxs(\"div\",{className:\"fleches-container\",onMouseEnter:function onMouseEnter(){handleOverFleches(bulleOpenFleches===null?1500:3000);},onMouseLeave:function onMouseLeave(){clearTimeout(timerOverFleches);},children:[/*#__PURE__*/_jsx(IconButton,{className:\"fleche-up fleche\",onClick:function onClick(){handleClicFleche(0);clearTimeout(timerOverFleches);},disabled:disabled||mursInterdits.includes(mursAutour[0])||casesAutour.dessus>0||casesAutour.dessus===undefined||deplacementEnCours.type>0,children:/*#__PURE__*/_jsx(ForwardIcon,{style:{color:disabled||mursInterdits.includes(mursAutour[0])||casesAutour.dessus>0||casesAutour.dessus===undefined?colorDisabled:color},stroke:\"white\",strokeWidth:1})},0),/*#__PURE__*/_jsx(IconButton,{className:\"fleche-droite fleche\",onClick:function onClick(){handleClicFleche(1);clearTimeout(timerOverFleches);},disabled:disabled||mursInterdits.includes(mursAutour[1])||casesAutour.droite>0||casesAutour.droite===undefined||deplacementEnCours.type>0,children:/*#__PURE__*/_jsx(ForwardIcon// style={{ color: \"#4A4848\" }}\n,{style:{color:disabled||mursInterdits.includes(mursAutour[1])||casesAutour.droite>0||casesAutour.droite===undefined?colorDisabled:color},stroke:\"white\",strokeWidth:1})},1),/*#__PURE__*/_jsx(\"div\",{className:\"fleche-center fleche\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle-fleche\"})}),/*#__PURE__*/_jsx(IconButton,{className:\"fleche-bottom fleche\",onClick:function onClick(){handleClicFleche(2);clearTimeout(timerOverFleches);},disabled:disabled||mursInterdits.includes(mursAutour[2])||casesAutour.dessous>0||casesAutour.dessous===undefined||deplacementEnCours.type>0,children:/*#__PURE__*/_jsx(ForwardIcon,{style:{color:disabled||mursInterdits.includes(mursAutour[2])||casesAutour.dessous>0||casesAutour.dessous===undefined?colorDisabled:color},stroke:\"white\",strokeWidth:1})},2),/*#__PURE__*/_jsx(IconButton,{className:\"fleche-gauche fleche\",onClick:function onClick(){handleClicFleche(3);clearTimeout(timerOverFleches);},disabled:disabled||mursInterdits.includes(mursAutour[3])||casesAutour.gauche>0||casesAutour.gauche===undefined||deplacementEnCours.type>0,children:/*#__PURE__*/_jsx(ForwardIcon,{style:{color:disabled||mursInterdits.includes(mursAutour[3])||casesAutour.gauche>0||casesAutour.gauche===undefined?colorDisabled:color},stroke:\"white\",strokeWidth:1})},3),/*#__PURE__*/_jsx(Bulle,{open:bulleOpenFleches,handleClose:handleCloseFleches,texte:textes!==null?textes[\"bulleFleches\"].contenu:\"\",sourceImage:\"assets/fleches.png\",action:\"Se déplacer\",coutInter:configuration[\"coutInterDeplacement\"]!==undefined?configuration[\"coutInterDeplacement\"].valeur:0,coutEq:configuration[\"coutEqDeplacement\"]!==undefined?configuration[\"coutInterDeplacement\"].valeur:0})]});}};var renderButtons=function renderButtons(){var boutons=[];var indexMurs=[\"dessus\",\"droite\",\"dessous\",\"gauche\"];if(textes!=null&&configuration!==null){Object.keys(textes).forEach(function(label,index){if(label.includes(\"label\")){var disabled=true;if(index<2&&mursAutour.some(function(mur,index){return casesAutour[indexMurs[index]]!==null&&casesAutour[indexMurs[index]]!==undefined&&casesAutour[indexMurs[index]]==4&&!mursInterdits.includes(mur);}))disabled=false;// une case en feu autour + extincteur feu\nif(index==2&&mursAutour.some(function(mur,index){return casesAutour[indexMurs[index]]!==null&&casesAutour[indexMurs[index]]!==undefined&&casesAutour[indexMurs[index]]==3&&!mursInterdits.includes(mur);}))disabled=false;// une case en fumée autour + extincteur fumée\nif(index==6&&mursAutour.some(function(mur,index){return casesAutour[indexMurs[index]]!==null&&casesAutour[indexMurs[index]]!==undefined&&Math.floor(casesAutour[indexMurs[index]]/10)==2&&!mursInterdits.includes(mur);})&&Math.floor(currentCase/1000)==1&&currentCase%100-currentCase%10==0)disabled=false;// une case habitant + transport + pompier non chargé\nif(index==3&&mursAutour.some(function(el){return el>0&&el!=4&&el!=2;}))disabled=false;// marqueur degats \nif(index==4&&mursAutour.includes(5))disabled=false;// porte fermee\nif(index==5&&mursAutour.includes(6))disabled=false;// porte ouverte\nif(index!=4&&index!=5||index==4&&mursAutour.includes(5)||index==5&&mursAutour.includes(6)){boutons.push(/*#__PURE__*/_jsx(BoutonAction,{action:textes[label].contenu,nbIntervention:interventions[label.replace(\"labelAction\",\"\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")],nbStock:stocks[label.replace(\"labelAction\",\"nb\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")],sourceImage:\"assets/\"+label.replace(\"label\",\"\")+\".png\",handleClicAction:handleClicAction,selected:btnClickedBottom==index,num:index,disabled:disabled||deplacementEnCours.type>0||budgetMaxAtteint||isLoading||numeroPompier!=pomp,texteBulle:textes[label.replace(\"label\",\"bulle\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")]!==undefined?textes[label.replace(\"label\",\"bulle\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")].contenu:label.replace(\"label\",\"bulle\"),coutInter:configuration[label.replace(\"labelAction\",\"coutInter\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")]!==undefined?configuration[label.replace(\"labelAction\",\"coutInter\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")].valeur:0,coutEq:configuration[label.replace(\"labelAction\",\"coutEq\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")]!==undefined?configuration[label.replace(\"labelAction\",\"coutEq\").replace(\"Ouvrir\",\"\").replace(\"Fermer\",\"\")].valeur:0},label));}}});}return/*#__PURE__*/_jsx(\"div\",{className:\"boutons-container\",children:boutons});};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),bulleOpenValider=_useState6[0],setBulleOpenValider=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),bulleOpenRetour=_useState8[0],setBulleOpenRetour=_useState8[1];var renderBoutonsValider=function renderBoutonsValider(){var timerOverValider;var handleOpenValider=function handleOpenValider(){setBulleOpenValider(true);// console.log(\"open\")\n};var handleCloseValider=function handleCloseValider(){setBulleOpenValider(false);clearTimeout(timerOverValider);// console.log(\"close\")\n};var handleOverValider=function handleOverValider(delay){timerOverValider=setTimeout(function(){handleOpenValider();},delay);};var timerOverRetour;var handleOpenRetour=function handleOpenRetour(){setBulleOpenRetour(true);// console.log(\"open\")\n};var handleCloseRetour=function handleCloseRetour(){setBulleOpenRetour(false);clearTimeout(timerOverRetour);// console.log(\"close\")\n};var handleOverRetour=function handleOverRetour(delay){timerOverRetour=setTimeout(function(){handleOpenRetour();},delay);};// console.log(deplacementEnCours.type > 0,isLoading)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"boutons-valider-container\",children:[/*#__PURE__*/_jsxs(\"div\",{onMouseEnter:function onMouseEnter(){handleOverValider(bulleOpenValider===null?1500:3000);},onMouseLeave:function onMouseLeave(){clearTimeout(timerOverValider);},children:[/*#__PURE__*/_jsx(Button,{disabled:numeroPompier!=pomp||deplacementEnCours.type>0||isLoading,className:\"bouton-valider vert\",variant:\"contained\",disableElevation:true,onClick:function onClick(){clearTimeout(timerOverValider);handleClicValidated(true);},children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/validate.png\",alt:\"image\"})},0),/*#__PURE__*/_jsx(Bulle,{open:bulleOpenValider,handleClose:handleCloseValider,texte:textes!==null?textes[\"bulleValider\"].contenu:\"\",sourceImage:\"assets/validate-vert.png\",action:\"Valider vos actions\",coutInter:null,coutEq:null})]}),/*#__PURE__*/_jsxs(\"div\",{onMouseEnter:function onMouseEnter(){handleOverRetour(bulleOpenRetour===null?1500:3000);},onMouseLeave:function onMouseLeave(){clearTimeout(timerOverRetour);},children:[/*#__PURE__*/_jsx(Button,{disabled:histActions.length<=1||deplacementEnCours.type>0||isLoading||numeroPompier!=pomp,className:\"bouton-valider rouge\",variant:\"contained\",disableElevation:true,onClick:function onClick(){handleClicValidated(false);clearTimeout(timerOverRetour);},children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/return.png\",alt:\"image\"})},1),/*#__PURE__*/_jsx(Bulle,{open:bulleOpenRetour,handleClose:handleCloseRetour,texte:textes!==null?textes[\"bulleRetour\"].contenu:\"\",sourceImage:\"assets/return-rouge.png\",action:\"Annuler une action\",coutInter:null,coutEq:null})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bandeau-bottom-tact\",children:[renderFleches(),renderButtons(),renderBoutonsValider()]});};export default TactBandeauBottom;","map":{"version":3,"sources":["C:/Users/hugod/decitude/client/src/components/interfaceJoueur/TactBandeauBottom.js"],"names":["React","useState","useEffect","BoutonAction","ForwardIcon","IconButton","Button","CSSTransitionGroup","ContentsAPI","Bulle","TactBandeauBottom","interventions","stocks","numeroPompier","handleClicFleche","handleClicValidated","handleClicDoor","handleClicMarqueur","handleClicExt","handleNoClicked","handleClicHabitant","btnClickedBottom","mursAutour","casesAutour","currentCase","histActions","configuration","pomp","deplacementEnCours","budgetMaxAtteint","isLoading","textes","setTextes","mursInterdits","getTextes","getTexts","then","res","handleClicAction","num","bulleOpenFleches","setBulleOpenFleches","renderFleches","timerOverFleches","handleOpenFleches","handleCloseFleches","clearTimeout","handleOverFleches","delay","setTimeout","disabled","Deplacement","color","colorDisabled","includes","dessus","undefined","type","droite","dessous","gauche","contenu","valeur","renderButtons","boutons","indexMurs","Object","keys","forEach","label","index","some","mur","Math","floor","el","push","replace","bulleOpenValider","setBulleOpenValider","bulleOpenRetour","setBulleOpenRetour","renderBoutonsValider","timerOverValider","handleOpenValider","handleCloseValider","handleOverValider","timerOverRetour","handleOpenRetour","handleCloseRetour","handleOverRetour","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport \"../../styles/TactBandeauBottom.css\"\r\nimport BoutonAction from \"./panels/BoutonAction\"\r\nimport ForwardIcon from '@material-ui/icons/Forward';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport { CSSTransitionGroup } from \"react-transition-group\"\r\nimport ContentsAPI from \"../../API/ContentsAPI\"\r\nimport Bulle from './panels/Bulle';\r\n\r\nconst TactBandeauBottom = ({\r\n    interventions,\r\n    stocks,\r\n    numeroPompier,\r\n    handleClicFleche,\r\n    handleClicValidated,\r\n    handleClicDoor,\r\n    handleClicMarqueur,\r\n    handleClicExt,\r\n    handleNoClicked,\r\n    handleClicHabitant,\r\n    btnClickedBottom,\r\n    mursAutour,\r\n    casesAutour,\r\n    currentCase,\r\n    histActions,\r\n    configuration,\r\n    pomp,\r\n    deplacementEnCours,\r\n    budgetMaxAtteint,\r\n    isLoading\r\n\r\n}) => {\r\n    // console.log(histActions)\r\n    const [textes, setTextes] = useState(null)\r\n    const mursInterdits = [1, 2, 3, 5]\r\n    // console.log(casesAutour)\r\n    useEffect(() => {\r\n        const getTextes = async () => {\r\n            const textes = ContentsAPI.getTexts(\"jeuTactBandeauBottom\").then(\r\n                (res) => { setTextes(res) }\r\n            )\r\n        }\r\n        if (textes == null) {\r\n            getTextes()\r\n        }\r\n    }, [textes])\r\n\r\n\r\n    const handleClicAction = (num) => {\r\n        if (num == null) {\r\n            handleNoClicked()\r\n        } else {\r\n            if (num == 4 || num == 5) handleClicDoor(num == 4)\r\n            if (num == 3) handleClicMarqueur()\r\n            if (num < 3) handleClicExt(num)\r\n            if (num == 6) handleClicHabitant()\r\n        }\r\n\r\n\r\n    }\r\n    const [bulleOpenFleches, setBulleOpenFleches] = useState(false)\r\n\r\n    const renderFleches = () => {\r\n        let timerOverFleches\r\n        const handleOpenFleches = () => {\r\n            setBulleOpenFleches(true)\r\n        };\r\n\r\n        const handleCloseFleches = () => {\r\n            setBulleOpenFleches(false)\r\n            clearTimeout(timerOverFleches)\r\n        };\r\n\r\n\r\n        const handleOverFleches = (delay) => {\r\n            timerOverFleches = setTimeout(() => {\r\n                handleOpenFleches()\r\n            }, delay);\r\n        }\r\n\r\n        const disabled = interventions.Deplacement <= 0 || budgetMaxAtteint || isLoading || numeroPompier!=pomp\r\n        const color = \"#4A4848\"\r\n        const colorDisabled = \"#BFBFBF\"\r\n        if (configuration !== null) {\r\n            return (\r\n                <div\r\n                    className=\"fleches-container\"\r\n                    onMouseEnter={() => {\r\n                        handleOverFleches(bulleOpenFleches === null ? 1500 : 3000)\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                        clearTimeout(timerOverFleches)\r\n                    }}\r\n                >\r\n                    <IconButton\r\n                        key={0}\r\n                        className=\"fleche-up fleche\"\r\n                        onClick={() => {\r\n                            handleClicFleche(0)\r\n                            clearTimeout(timerOverFleches)\r\n                        }}\r\n                        disabled={disabled || mursInterdits.includes(mursAutour[0]) || casesAutour.dessus > 0 || casesAutour.dessus === undefined || deplacementEnCours.type > 0}\r\n                    >\r\n                        <ForwardIcon\r\n                            style={{ color: disabled || mursInterdits.includes(mursAutour[0]) || casesAutour.dessus > 0 || casesAutour.dessus === undefined ? colorDisabled : color }}\r\n                            stroke={\"white\"}\r\n                            strokeWidth={1}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        key={1}\r\n                        className=\"fleche-droite fleche\"\r\n                        onClick={() => {\r\n                            handleClicFleche(1)\r\n                            clearTimeout(timerOverFleches)\r\n                        }}\r\n                        disabled={disabled || mursInterdits.includes(mursAutour[1]) || casesAutour.droite > 0 || casesAutour.droite === undefined || deplacementEnCours.type > 0}\r\n                    >\r\n                        <ForwardIcon\r\n                            // style={{ color: \"#4A4848\" }}\r\n                            style={{ color: disabled || mursInterdits.includes(mursAutour[1]) || casesAutour.droite > 0 || casesAutour.droite === undefined ? colorDisabled : color }}\r\n                            stroke={\"white\"}\r\n                            strokeWidth={1}\r\n                        />\r\n                    </IconButton>\r\n                    <div className=\"fleche-center fleche\">\r\n                        <div className=\"circle-fleche\"></div>\r\n                    </div>\r\n                    <IconButton\r\n                        key={2}\r\n                        className=\"fleche-bottom fleche\"\r\n                        onClick={() => {\r\n                            handleClicFleche(2)\r\n                            clearTimeout(timerOverFleches)\r\n                        }}\r\n                        disabled={disabled || mursInterdits.includes(mursAutour[2]) || casesAutour.dessous > 0 || casesAutour.dessous === undefined || deplacementEnCours.type > 0}\r\n\r\n                    >\r\n                        <ForwardIcon\r\n                            style={{ color: disabled || mursInterdits.includes(mursAutour[2]) || casesAutour.dessous > 0 || casesAutour.dessous === undefined ? colorDisabled : color }}\r\n                            stroke={\"white\"}\r\n                            strokeWidth={1}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        key={3}\r\n                        className=\"fleche-gauche fleche\"\r\n                        onClick={() => {\r\n                            handleClicFleche(3)\r\n                            clearTimeout(timerOverFleches)\r\n                        }}\r\n                        disabled={disabled || mursInterdits.includes(mursAutour[3]) || casesAutour.gauche > 0 || casesAutour.gauche === undefined || deplacementEnCours.type > 0}\r\n                    >\r\n                        <ForwardIcon\r\n                            style={{ color: disabled || mursInterdits.includes(mursAutour[3]) || casesAutour.gauche > 0 || casesAutour.gauche === undefined ? colorDisabled : color }}\r\n                            stroke={\"white\"}\r\n                            strokeWidth={1}\r\n                        />\r\n                    </IconButton>\r\n                    <Bulle\r\n                        open={bulleOpenFleches}\r\n                        handleClose={handleCloseFleches}\r\n                        texte={textes !== null ? textes[\"bulleFleches\"].contenu : \"\"}\r\n                        sourceImage={\"assets/fleches.png\"}\r\n                        action={\"Se déplacer\"}\r\n                        coutInter={configuration[\"coutInterDeplacement\"] !== undefined ? configuration[\"coutInterDeplacement\"].valeur : 0}\r\n                        coutEq={configuration[\"coutEqDeplacement\"] !== undefined ? configuration[\"coutInterDeplacement\"].valeur : 0}\r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const renderButtons = () => {\r\n        var boutons = []\r\n        const indexMurs=[\"dessus\",\"droite\",\"dessous\",\"gauche\"]\r\n        if (textes != null && configuration !== null) {\r\n            Object.keys(textes).forEach((label, index) => {\r\n                if (label.includes(\"label\")) {\r\n                    var disabled = true\r\n\r\n                    \r\n                    \r\n                    if (index < 2 && mursAutour.some((mur, index) => casesAutour[indexMurs[index]] !==null && casesAutour[indexMurs[index]] !==undefined && casesAutour[indexMurs[index]]==4 && !mursInterdits.includes(mur))) disabled = false // une case en feu autour + extincteur feu\r\n                    if (index == 2 && mursAutour.some((mur, index) => casesAutour[indexMurs[index]] !==null && casesAutour[indexMurs[index]] !==undefined && casesAutour[indexMurs[index]]==3 && !mursInterdits.includes(mur))) disabled = false // une case en fumée autour + extincteur fumée\r\n\r\n                    if (index == 6 && mursAutour.some((mur, index) => casesAutour[indexMurs[index]] !==null && casesAutour[indexMurs[index]] !==undefined && Math.floor(casesAutour[indexMurs[index]] / 10) == 2 && !mursInterdits.includes(mur)) && Math.floor(currentCase / 1000) == 1 && (currentCase% 100 - currentCase % 10)==0 ) disabled = false // une case habitant + transport + pompier non chargé\r\n                    if (index == 3 && mursAutour.some(el => el > 0 && (el != 4 && el != 2))) disabled = false // marqueur degats \r\n                    if (index == 4 && mursAutour.includes(5)) disabled = false // porte fermee\r\n\r\n\r\n                    if (index == 5 && mursAutour.includes(6)) disabled = false // porte ouverte\r\n                    \r\n                    if (index != 4 && index != 5 || (index == 4 && mursAutour.includes(5)) || (index == 5 && mursAutour.includes(6))) {\r\n\r\n                        boutons.push(\r\n                            <BoutonAction\r\n\r\n                                key={label}\r\n                                action={textes[label].contenu}\r\n                                nbIntervention={interventions[label.replace(\"labelAction\", \"\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")]}\r\n                                nbStock={stocks[label.replace(\"labelAction\", \"nb\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")]}\r\n                                sourceImage={\"assets/\" + label.replace(\"label\", \"\") + \".png\"}\r\n                                handleClicAction={handleClicAction}\r\n                                selected={btnClickedBottom == index}\r\n                                num={index}\r\n                                disabled={disabled || deplacementEnCours.type > 0 || budgetMaxAtteint || isLoading || numeroPompier!=pomp}\r\n                                texteBulle={textes[label.replace(\"label\", \"bulle\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")] !== undefined ? textes[label.replace(\"label\", \"bulle\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")].contenu : label.replace(\"label\", \"bulle\")}\r\n                                coutInter={configuration[label.replace(\"labelAction\", \"coutInter\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")] !== undefined ? configuration[label.replace(\"labelAction\", \"coutInter\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")].valeur : 0}\r\n                                coutEq={configuration[label.replace(\"labelAction\", \"coutEq\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")] !== undefined ? configuration[label.replace(\"labelAction\", \"coutEq\").replace(\"Ouvrir\", \"\").replace(\"Fermer\", \"\")].valeur : 0}\r\n\r\n                            />\r\n                        )\r\n                    }\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"boutons-container\">\r\n                {boutons}\r\n            </div>\r\n        )\r\n    }\r\n    const [bulleOpenValider, setBulleOpenValider] = useState(null)\r\n    const [bulleOpenRetour, setBulleOpenRetour] = useState(null)\r\n\r\n    const renderBoutonsValider = () => {\r\n        let timerOverValider\r\n        const handleOpenValider = () => {\r\n            setBulleOpenValider(true)\r\n            // console.log(\"open\")\r\n        };\r\n\r\n        const handleCloseValider = () => {\r\n            setBulleOpenValider(false)\r\n            clearTimeout(timerOverValider)\r\n            // console.log(\"close\")\r\n        };\r\n\r\n\r\n        const handleOverValider = (delay) => {\r\n            timerOverValider = setTimeout(() => {\r\n                handleOpenValider()\r\n            }, delay);\r\n        }\r\n        let timerOverRetour\r\n        const handleOpenRetour = () => {\r\n            setBulleOpenRetour(true)\r\n            // console.log(\"open\")\r\n        };\r\n\r\n        const handleCloseRetour = () => {\r\n            setBulleOpenRetour(false)\r\n            clearTimeout(timerOverRetour)\r\n            // console.log(\"close\")\r\n        };\r\n\r\n\r\n        const handleOverRetour = (delay) => {\r\n            timerOverRetour = setTimeout(() => {\r\n                handleOpenRetour()\r\n            }, delay);\r\n        }\r\n        \r\n        // console.log(deplacementEnCours.type > 0,isLoading)\r\n        return (\r\n            <div className=\"boutons-valider-container\">\r\n                <div\r\n                    onMouseEnter={() => {\r\n                        handleOverValider(bulleOpenValider === null ? 1500 : 3000)\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                        clearTimeout(timerOverValider)\r\n                    }}\r\n                >\r\n                    <Button\r\n                        disabled={numeroPompier != pomp || deplacementEnCours.type > 0 || isLoading}\r\n                        key={0}\r\n                        className=\"bouton-valider vert\"\r\n                        variant='contained'\r\n                        disableElevation\r\n                        onClick={() => {\r\n                            clearTimeout(timerOverValider)\r\n                            handleClicValidated(true)\r\n                        }}\r\n\r\n                    >\r\n                        <img src={\"assets/validate.png\"} alt={\"image\"} />\r\n\r\n                    </Button>\r\n                    <Bulle\r\n                        open={bulleOpenValider}\r\n                        handleClose={handleCloseValider}\r\n                        texte={textes !== null ? textes[\"bulleValider\"].contenu : \"\"}\r\n                        sourceImage={\"assets/validate-vert.png\"}\r\n                        action={\"Valider vos actions\"}\r\n                        coutInter={null}\r\n                        coutEq={null}\r\n                    />\r\n                </div>\r\n                <div\r\n                    onMouseEnter={() => {\r\n                        handleOverRetour(bulleOpenRetour === null ? 1500 : 3000)\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                        clearTimeout(timerOverRetour)\r\n                    }}\r\n                >\r\n                    <Button\r\n                        disabled={histActions.length <= 1 || deplacementEnCours.type > 0 || isLoading || numeroPompier!=pomp }\r\n                        key={1}\r\n                        className=\"bouton-valider rouge\"\r\n                        variant='contained'\r\n                        disableElevation\r\n                        onClick={() => {\r\n                            handleClicValidated(false)\r\n                            clearTimeout(timerOverRetour)\r\n                        }}\r\n                    >\r\n                        <img src={\"assets/return.png\"} alt={\"image\"} />\r\n                    </Button>\r\n                    <Bulle\r\n                        open={bulleOpenRetour}\r\n                        handleClose={handleCloseRetour}\r\n                        texte={textes !== null ? textes[\"bulleRetour\"].contenu : \"\"}\r\n                        sourceImage={\"assets/return-rouge.png\"}\r\n                        action={\"Annuler une action\"}\r\n                        coutInter={null}\r\n                        coutEq={null}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n    return (\r\n        <div className=\"bandeau-bottom-tact\">\r\n\r\n            {renderFleches()}\r\n\r\n            {renderButtons()}\r\n\r\n            {renderBoutonsValider()}\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default TactBandeauBottom;"]},"metadata":{},"sourceType":"module"}